"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return V(new(V(function(){},{prototype:e})),t)}function r(e){return R(arguments,function(t){t!==e&&R(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function a(e){if(Object.keys)return Object.keys(e);var t=[];return R(e,function(e,n){t.push(n)}),t}function l(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in e&&e[i]===t)return i;return-1}function s(e,t,n,i){var r,s=o(n,i),c={},u=[];for(var d in s)if(s[d].params&&(r=a(s[d].params),r.length))for(var p in r)l(u,r[p])>=0||(u.push(r[p]),c[r[p]]=e[r[p]]);return V({},c,t)}function c(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(e[o]!=t[o])return!1}return!0}function u(e,t){var n={};return R(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return R(n,function(n){n in e&&(t[n]=e[n])}),t}function p(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)-1==l(n,i)&&(t[i]=e[i]);return t}function h(e,t){var n=P(e),i=n?[]:{};return R(e,function(e,r){t(e,r)&&(i[n?i.length:r]=e)}),i}function f(e,t){var n=P(e)?[]:{};return R(e,function(e,i){n[i]=t(e,i)}),n}function g(e,t){var i=1,o=2,s={},c=[],u=s,d=V(e.when(s),{$$promises:s,$$values:s});this.study=function(s){function h(e,n){if($[n]!==o){if(v.push(n),$[n]===i)throw v.splice(0,l(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if($[n]=i,N(e))m.push(n,[function(){return t.get(e)}],c);else{var r=t.annotate(e);R(r,function(e){e!==n&&s.hasOwnProperty(e)&&h(s[e],e)}),m.push(n,e,r)}v.pop(),$[n]=o}}function f(e){return D(e)&&e.then&&e.$$promises}if(!D(s))throw new Error("'invocables' must be an object");var g=a(s||{}),m=[],v=[],$={};return R(s,h),s=v=$=null,function(i,o,a){function l(){--y||(S||r(b,o.$$values),v.$$values=b,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,h.resolve(b))}function s(e){v.$$failure=e,h.reject(e)}function c(n,r,o){function c(e){d.reject(e),s(e)}function u(){if(!z(v.$$failure))try{d.resolve(t.invoke(r,a,b)),d.promise.then(function(e){b[n]=e,l()},c)}catch(e){c(e)}}var d=e.defer(),p=0;R(o,function(e){$.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(p++,$[e].then(function(t){b[e]=t,--p||u()},c))}),p||u(),$[n]=d.promise}if(f(i)&&a===n&&(a=o,o=i,i=null),i){if(!D(i))throw new Error("'locals' must be an object")}else i=u;if(o){if(!f(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=d;var h=e.defer(),v=h.promise,$=v.$$promises={},b=V({},i),y=1+m.length/3,S=!1;if(z(o.$$failure))return s(o.$$failure),v;o.$$inheritedValues&&r(b,p(o.$$inheritedValues,g)),V($,o.$$promises),o.$$values?(S=r(b,p(o.$$values,g)),v.$$inheritedValues=p(o.$$values,g),l()):(o.$$inheritedValues&&(v.$$inheritedValues=p(o.$$inheritedValues,g)),o.then(l,s));for(var x=0,w=m.length;w>x;x+=3)i.hasOwnProperty(m[x])?l():c(m[x],m[x+1],m[x+2]);return v}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function m(e,t,n){this.fromConfig=function(e,t,n){return z(e.template)?this.fromString(e.template,t):z(e.templateUrl)?this.fromUrl(e.templateUrl,t):z(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return O(e)?e(t):e},this.fromUrl=function(n,i){return O(n)&&(n=n(i)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function v(e,t,r){function o(t,n,i,r){if(m.push(t),f[t])return f[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new U.Param(t,n,i,r),g[t]}function a(e,t,n,i){var r=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:r=["?(",")?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+t+r[1]}function l(r,o){var a,l,s,c,u;return a=r[2]||r[3],u=t.params[a],s=e.substring(p,r.index),l=o?r[4]:r[4]||("*"==r[1]?".*":null),c=U.type(l||"string")||i(U.type("string"),{pattern:new RegExp(l,t.caseInsensitive?"i":n)}),{id:a,regexp:l,segment:s,type:c,cfg:u}}t=V({params:{}},D(t)?t:{});var s,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",p=0,h=this.segments=[],f=r?r.params:{},g=this.params=r?r.params.$$new():new U.ParamSet,m=[];this.source=e;for(var v,$,b;(s=c.exec(e))&&(v=l(s,!1),!(v.segment.indexOf("?")>=0));)$=o(v.id,v.type,v.cfg,"path"),d+=a(v.segment,$.type.pattern.source,$.squash,$.isOptional),h.push(v.segment),p=c.lastIndex;b=e.substring(p);var y=b.indexOf("?");if(y>=0){var S=this.sourceSearch=b.substring(y);if(b=b.substring(0,y),this.sourcePath=e.substring(0,p+y),S.length>0)for(p=0;s=u.exec(S);)v=l(s,!0),$=o(v.id,v.type,v.cfg,"search"),p=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=a(b)+(t.strict===!1?"/?":"")+"$",h.push(b),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=h[0],this.$$paramNames=m}function $(e){V(this,e)}function b(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function r(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function o(){return{strict:g,caseInsensitive:p}}function s(e){return O(e)||P(e)&&O(e[e.length-1])}function c(){for(;x.length;){var e=x.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(y[e.name],d.invoke(e.def))}}function u(e){V(this,e||{})}U=this;var d,p=!1,g=!0,m=!1,y={},S=!0,x=[],w={string:{encode:e,decode:r,is:function(e){return null==e||!z(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return z(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};b.$$getDefaultValue=function(e){if(!s(e.value))return e.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(e.value)},this.caseInsensitive=function(e){return z(e)&&(p=e),p},this.strictMode=function(e){return z(e)&&(g=e),g},this.defaultSquashPolicy=function(e){if(!z(e))return m;if(e!==!0&&e!==!1&&!N(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new v(e,V(o(),t))},this.isMatcher=function(e){if(!D(e))return!1;var t=!0;return R(v.prototype,function(n,i){O(n)&&(t=t&&z(e[i])&&O(e[i]))}),t},this.type=function(e,t,n){if(!z(t))return y[e];if(y.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return y[e]=new $(V({name:e},t)),n&&(x.push({name:e,def:n}),S||c()),this},R(w,function(e,t){y[t]=new $(V({name:t},e))}),y=i(y,{}),this.$get=["$injector",function(e){return d=e,S=!1,c(),R(w,function(e,t){y[t]||(y[t]=new $(e))}),this}],this.Param=function(e,t,i,r){function o(e){var t=D(e)?a(e):[],n=-1===l(t,"value")&&-1===l(t,"type")&&-1===l(t,"squash")&&-1===l(t,"array");return n&&(e={value:e}),e.$$fn=s(e.value)?e.value:function(){return e.value},e}function c(t,n,i){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof $?t.type:new $(t.type):"config"===i?y.any:y.string}function u(){var t={array:"search"===r?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return V(t,n,i).array}function p(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!z(n)||null==n)return m;if(n===!0||N(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function g(e,t,i,r){var o,a,s=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return o=P(e.replace)?e.replace:[],N(r)&&o.push({from:r,to:n}),a=f(o,function(e){return e.from}),h(s,function(e){return-1===l(a,e.from)}).concat(o)}function v(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");var e=d.invoke(i.$$fn);if(null!==e&&e!==n&&!x.type.is(e))throw new Error("Default value ("+e+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return e}function b(e){function t(e){return function(t){return t.from===e}}function n(e){var n=f(h(x.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),z(e)?x.type.$normalize(e):v()}function S(){return"{Param:"+e+" "+t+" squash: '"+C+"' optional: "+E+"}"}var x=this;i=o(i),t=c(i,t,r);var w=u();t=w?t.$asArray(w,"search"===r):t,"string"!==t.name||w||"path"!==r||i.value!==n||(i.value="");var E=i.value!==n,C=p(i,E),k=g(i,w,E,C);V(this,{id:e,type:t,location:r,array:w,squash:C,replace:k,isOptional:E,value:b,dynamic:n,config:i,toString:S})},u.prototype={$$new:function(){return i(this,V(new u,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=a(u.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),R(t,function(t){R(a(t),function(t){-1===l(e,t)&&-1===l(i,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return R(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return R(i.$$keys(),function(r){var o=e&&e[r],a=t&&t[r];i[r].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var i,r,o,a,l,s=this.$$keys();for(i=0;i<s.length&&(r=this[s[i]],o=e[s[i]],o!==n&&null!==o||!r.isOptional);i++){if(a=r.type.$normalize(o),!r.type.is(a))return!1;if(l=r.type.encode(a),t.isString(l)&&!r.type.pattern.exec(l))return!1}return!0},$$parent:n},this.ParamSet=u}function y(e,i){function r(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return z(i)?i:!0}function l(i,r,o,a){function l(e,t,n){return"/"===g?e:t?g.slice(0,-1)+e:n?g.slice(1)+e:e}function p(e){function t(e){var t=e(o,i);return t?(N(t)&&i.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){f&&i.url()===f;f=n;var r,a=c.length;for(r=0;a>r;r++)if(t(c[r]))return;u&&t(u)}}function h(){return s=s||r.$on("$locationChangeSuccess",p)}var f,g=a.baseHref(),m=i.url();return d||h(),{sync:function(){p()},listen:function(){return h()},update:function(e){return e?void(m=i.url()):void(i.url()!==m&&(i.url(m),i.replace()))},push:function(e,t,r){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),i.url(o),f=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled);var s=n.format(r);if(o=o||{},a||null===s||(s="#"+e.hashPrefix()+s),null!==s&&r&&r["#"]&&(s+="#"+r["#"]),s=l(s,a,o.absolute),!o.absolute||!s)return s;var c=!a&&s?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,c,s].join("")}}}var s,c=[],u=null,d=!1;this.rule=function(e){if(!O(e))throw new Error("'rule' must be a function");return c.push(e),this},this.otherwise=function(e){if(N(e)){var t=e;e=function(){return t}}else if(!O(e))throw new Error("'rule' must be a function");return u=e,this},this.when=function(e,t){var n,l=N(t);if(N(e)&&(e=i.compile(e)),!l&&!O(t)&&!P(t))throw new Error("invalid 'handler' in when()");var s={matcher:function(e,t){return l&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),V(function(n,i){return a(n,t,e.exec(i.path(),i.search()))},{prefix:N(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return l&&(n=t,t=["$match",function(e){return o(n,e)}]),V(function(n,i){return a(n,t,e.exec(i.path()))},{prefix:r(e)})}},c={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var u in c)if(c[u])return this.rule(s[u](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=l,l.$inject=["$location","$rootScope","$injector","$browser"]}function S(e,r){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function p(e,t){if(!e)return n;var i=N(e),r=i?e:e.name,a=o(r);if(a){if(!t)throw new Error("No reference point given for path '"+r+"'");t=p(t);for(var l=r.split("."),s=0,c=l.length,u=t;c>s;s++)if(""!==l[s]||0!==s){if("^"!==l[s])break;if(!u.parent)throw new Error("Path '"+r+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;l=l.slice(s).join("."),r=u.name+(u.name&&l?".":"")+l}var d=C[r];return!d||!i&&(i||d!==e&&d.self!==e)?n:d}function h(e,t){k[e]||(k[e]=[]),k[e].push(t)}function g(e){for(var t=k[e]||[];t.length;)m(t.shift())}function m(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!N(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(C.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):N(t.parent)?t.parent:D(t.parent)&&N(t.parent.name)?t.parent.name:"";if(r&&!C[r])return h(r,t.self);for(var o in M)O(M[o])&&(t[o]=M[o](t,M.$delegates[o]));return C[n]=t,!t[T]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){E.$current.navigable==t&&c(e,n)||E.transitionTo(t,e,{inherit:!0,location:!1})}]),g(n),t}function v(e){return e.indexOf("*")>-1}function $(e){for(var t=e.split("."),n=E.$current.name.split("."),i=0,r=t.length;r>i;i++)"*"===t[i]&&(n[i]="*");return"**"===t[0]&&(n=n.slice(l(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(l(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length?!1:n.join("")===t.join("")}function b(e,t){return N(e)&&!z(t)?M[e]:O(t)&&N(e)?(M[e]&&!M.$delegates[e]&&(M.$delegates[e]=M[e]),M[e]=t,this):this}function y(e,t){return D(e)?t=e:t.name=e,m(t),this}function S(e,r,o,l,d,h,g,m,b){function y(t,n,i,o){var a=e.$broadcast("$stateNotFound",t,n,i);if(a.defaultPrevented)return g.update(),A;if(!a.retry)return null;if(o.$retry)return g.update(),L;var l=E.transition=r.when(a.retry);return l.then(function(){return l!==E.transition?k:(t.options.$retry=!0,E.transitionTo(t.to,t.toParams,t.options))},function(){return A}),g.update(),l}function S(e,n,i,a,s,c){function p(){var n=[];return R(e.views,function(i,r){var a=i.resolve&&i.resolve!==e.resolve?i.resolve:{};a.$template=[function(){return o.load(r,{view:i,locals:s.globals,params:h,notify:c.notify})||""}],n.push(d.resolve(a,s.globals,s.resolve,e).then(function(n){if(O(i.controllerProvider)||P(i.controllerProvider)){var o=t.extend({},a,s.globals);n.$$controller=l.invoke(i.controllerProvider,null,o)}else n.$$controller=i.controller;n.$$state=e,n.$$controllerAs=i.controllerAs,s[r]=n}))}),r.all(n).then(function(){return s.globals})}var h=i?n:u(e.params.$$keys(),n),f={$stateParams:h};s.resolve=d.resolve(e.resolve,f,s.resolve,e);var g=[s.resolve.then(function(e){s.globals=e})];return a&&g.push(a),r.all(g).then(p).then(function(e){return s})}var k=r.reject(new Error("transition superseded")),M=r.reject(new Error("transition prevented")),A=r.reject(new Error("transition aborted")),L=r.reject(new Error("transition failed"));return w.locals={resolve:null,globals:{$stateParams:{}}},E={params:{},current:w.self,$current:w,transition:null},E.reload=function(e){return E.transitionTo(E.current,h,{reload:e||!0,inherit:!1,notify:!0})},E.go=function(e,t,n){return E.transitionTo(e,t,V({inherit:!0,relative:E.$current},n))},E.transitionTo=function(t,n,o){n=n||{},o=V({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,c=E.$current,d=E.params,f=c.path,m=p(t,o.relative),v=n["#"];if(!z(m)){var $={to:t,toParams:n,options:o},b=y($,c.self,d,o);if(b)return b;if(t=$.to,n=$.toParams,o=$.options,m=p(t,o.relative),!z(m)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(m[T])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=s(h,n||{},E.$current,m)),!m.params.$$validates(n))return L;n=m.params.$$values(n),t=m;var C=t.path,A=0,H=C[A],I=w.locals,O=[];if(o.reload){if(N(o.reload)||D(o.reload)){if(D(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var P=o.reload===!0?f[0]:p(o.reload);if(o.reload&&!P)throw new Error("No such reload state '"+(N(o.reload)?o.reload:o.reload.name)+"'");for(;H&&H===f[A]&&H!==P;)I=O[A]=H.locals,A++,H=C[A]}}else for(;H&&H===f[A]&&H.ownParams.$$equals(n,d);)I=O[A]=H.locals,A++,H=C[A];if(x(t,n,c,d,I,o))return v&&(n["#"]=v),E.params=n,q(E.params,h),o.location&&t.navigable&&t.navigable.url&&(g.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),g.update(!0)),E.transition=null,r.when(E.current);if(n=u(t.params.$$keys(),n||{}),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,c.self,d).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,d),g.update(),M;for(var R=r.when(I),U=A;U<C.length;U++,H=C[U])I=O[U]=i(I),R=S(H,n,H===t,R,I,o);var X=E.transition=R.then(function(){var i,r,a;if(E.transition!==X)return k;for(i=f.length-1;i>=A;i--)a=f[i],a.self.onExit&&l.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(i=A;i<C.length;i++)r=C[i],r.locals=O[i],r.self.onEnter&&l.invoke(r.self.onEnter,r.self,r.locals.globals);return v&&(n["#"]=v),E.transition!==X?k:(E.$current=t,E.current=t.self,E.params=n,q(E.params,h),E.transition=null,o.location&&t.navigable&&g.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,d),g.update(!0),E.current)},function(i){return E.transition!==X?k:(E.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,c.self,d,i),a.defaultPrevented||g.update(),r.reject(i))});return X},E.is=function(e,t,i){i=V({relative:E.$current},i||{});var r=p(e,i.relative);return z(r)?E.$current!==r?!1:t?c(r.params.$$values(t),h):!0:n},E.includes=function(e,t,i){if(i=V({relative:E.$current},i||{}),N(e)&&v(e)){if(!$(e))return!1;e=E.$current.name}var r=p(e,i.relative);return z(r)?z(E.$current.includes[r.name])?t?c(r.params.$$values(t),h,a(t)):!0:!1:n},E.href=function(e,t,i){i=V({lossy:!0,inherit:!0,absolute:!1,relative:E.$current},i||{});var r=p(e,i.relative);if(!z(r))return null;i.inherit&&(t=s(h,t||{},E.$current,r));var o=r&&i.lossy?r.navigable:r;return o&&o.url!==n&&null!==o.url?g.href(o.url,u(r.params.$$keys().concat("#"),t||{}),{absolute:i.absolute}):null},E.get=function(e,t){if(0===arguments.length)return f(a(C),function(e){return C[e].self});var n=p(e,t||E.$current);return n&&n.self?n.self:null},E}function x(e,t,n,i,r,o){function a(e,t,n){function i(t){return"search"!=e.params[t].location}var r=e.params.$$keys().filter(i),o=d.apply({},[e.params].concat(r)),a=new U.ParamSet(o);return a.$$equals(t,n)}return!o.reload&&e===n&&(r===n.locals||e.self.reloadOnSearch===!1&&a(n,i,t))?!0:void 0}var w,E,C={},k={},T="abstract",M={parent:function(e){if(z(e.parent)&&e.parent)return p(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?p(t[1]):w},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=V({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(N(t))return"^"==t.charAt(0)?r.compile(t.substring(1),n):(e.parent.navigable||w).url.concat(t,n);if(!t||r.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new U.ParamSet;return R(e.params||{},function(e,n){t[n]||(t[n]=new U.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?V(e.parent.params.$$new(),e.ownParams):new U.ParamSet},views:function(e){var t={};return R(z(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?V({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};w=m({name:"",url:"^",views:null,"abstract":!0}),w.navigable=null,this.decorator=b,this.state=y,this.$get=S,S.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function x(){function e(e,t){return{load:function(n,i){var r,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return i=V(o,i),i.view&&(r=t.fromConfig(i.view,i.params,i.locals)),r&&i.notify&&e.$broadcast("$viewContentLoading",i),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function w(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function E(e,n,i,r){function o(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function a(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(c)return{enter:function(e,t,n){var i=c.enter(e,null,t,n);i&&i.then&&i.then(n)},leave:function(e,t){var n=c.leave(e,t);n&&n.then&&n.then(t)}};if(s){var i=s&&s(t,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return n()}var l=o(),s=l("$animator"),c=l("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,l){return function(n,o,s){function c(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),p&&(v.leave(p,function(){d=null}),d=p,p=null)}function u(a){var u,d=k(n,s,o,r),$=d&&e.$current&&e.$current.locals[d];if(a||$!==f){u=n.$new(),f=e.$current.locals[d];var b=l(u,function(e){v.enter(e,o,function(){h&&h.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||n.$eval(m))&&i(e)}),c()});p=b,h=u,h.$emit("$viewContentLoaded"),h.$eval(g)}}var d,p,h,f,g=s.onload||"",m=s.autoscroll,v=a(s,n);n.$on("$stateChangeSuccess",function(){u(!1)}),n.$on("$viewContentLoading",function(){u(!1)}),u(!0)}}};return u}function C(e,t,n,i){return{restrict:"ECA",priority:-400,compile:function(r){var o=r.html();return function(r,a,l){var s=n.$current,c=k(r,l,a,i),u=s&&s.locals[c];if(u){a.data("$uiView",{name:c,state:u.$$state}),a.html(u.$template?u.$template:o);var d=e(a.contents());if(u.$$controller){u.$scope=r,u.$element=a;var p=t(u.$$controller,u);u.$$controllerAs&&(r[u.$$controllerAs]=p),a.data("$ngControllerController",p),a.children().data("$ngControllerController",p)}d(r)}}}}}function k(e,t,n,i){var r=i(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function T(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function M(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function A(e,n){var i=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,o,a,l){var s=T(a.uiSref,e.current.name),c=null,u=M(o)||e.$current,d="[object SVGAnimatedString]"===Object.prototype.toString.call(o.prop("href"))?"xlink:href":"href",p=null,h="A"===o.prop("tagName").toUpperCase(),f="FORM"===o[0].nodeName,g=f?"action":d,m=!0,v={relative:u,inherit:!0},$=r.$eval(a.uiSrefOpts)||{};t.forEach(i,function(e){e in $&&(v[e]=$[e])});var b=function(n){if(n&&(c=t.copy(n)),m){p=e.href(s.state,c,v);var i=l[1]||l[0];return i&&i.$$addStateInfo(s.state,c),null===p?(m=!1,!1):void a.$set(g,p)}};s.paramExpr&&(r.$watch(s.paramExpr,function(e,t){e!==c&&b(e)},!0),c=t.copy(r.$eval(s.paramExpr))),b(),f||o.bind("click",function(t){var i=t.which||t.button;if(!(i>1||t.ctrlKey||t.metaKey||t.shiftKey||o.attr("target"))){var r=n(function(){e.go(s.state,c,v)});t.preventDefault();var a=h&&!p?1:0;t.preventDefault=function(){a--<=0&&n.cancel(r)}}})}}}function L(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,i,r){function o(){a()?i.addClass(s):i.removeClass(s)}function a(){for(var e=0;e<c.length;e++)if(l(c[e].state,c[e].params))return!0;return!1}function l(t,n){return"undefined"!=typeof r.uiSrefActiveEq?e.is(t.name,n):e.includes(t.name,n)}var s,c=[];s=n(r.uiSrefActiveEq||r.uiSrefActive||"",!1)(t),this.$$addStateInfo=function(t,n){var r=e.get(t,M(i));c.push({state:r||{name:t},params:n}),o()},t.$on("$stateChangeSuccess",o)}]}}function H(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function I(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var z=t.isDefined,O=t.isFunction,N=t.isString,D=t.isObject,P=t.isArray,R=t.forEach,V=t.extend,q=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),g.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",g),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var U;v.prototype.concat=function(e,t){var n={caseInsensitive:U.caseInsensitive(),strict:U.strictMode(),squash:U.defaultSquashPolicy()};return new v(this.sourcePath+e+this.sourceSearch,V(n,t),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var i=t(e).split(/-(?!\\)/),r=f(i,t);return f(r,n).reverse()}var i=this.regexp.exec(e);if(!i)return null;t=t||{};var r,o,a,l=this.parameters(),s=l.length,c=this.segments.length-1,u={};if(c!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(r=0;c>r;r++){a=l[r];var d=this.params[a],p=i[r+1];for(o=0;o<d.replace;o++)d.replace[o].from===p&&(p=d.replace[o].to);p&&d.array===!0&&(p=n(p)),u[a]=d.value(p)}for(;s>r;r++)a=l[r],u[a]=this.params[a].value(t[a]);return u},v.prototype.parameters=function(e){return z(e)?this.params[e]||null:this.$$paramNames},v.prototype.validates=function(e){return this.params.$$validates(e)},v.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(e))return null;var o,a=!1,l=n.length-1,s=i.length,c=n[0];for(o=0;s>o;o++){var u=l>o,d=i[o],p=r[d],h=p.value(e[d]),g=p.isOptional&&p.type.equals(p.value(),h),m=g?p.squash:!1,v=p.type.encode(h);if(u){var $=n[o+1];if(m===!1)null!=v&&(c+=P(v)?f(v,t).join("-"):encodeURIComponent(v)),c+=$;else if(m===!0){var b=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=$.match(b)[1]}else N(m)&&(c+=m+$)}else{if(null==v||g&&m!==!1)continue;P(v)||(v=[v]),v=f(v,encodeURIComponent).join("&"+d+"="),c+=(a?"&":"?")+(d+"="+v),a=!0}}return c},$.prototype.is=function(e,t){return!0},$.prototype.encode=function(e,t){return e},$.prototype.decode=function(e,t){return e},$.prototype.equals=function(e,t){return e==t},$.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},$.prototype.pattern=/.*/,$.prototype.toString=function(){return"{Type:"+this.name+"}"},$.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},$.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function r(e){return P(e)?e:z(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function l(e,t){return function(n){n=r(n);var i=f(n,e);return t===!0?0===h(i,a).length:o(i)}}function s(e){return function(t,n){var i=r(t),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!e(i[a],o[a]))return!1;return!0}}this.encode=l(i(e,"encode")),this.decode=l(i(e,"decode")),this.is=l(i(e,"is"),!0),this.equals=s(i(e,"equals")),this.pattern=e.pattern,this.$normalize=l(i(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",b),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),y.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",y),S.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",S),x.$inject=[],t.module("ui.router.state").provider("$view",x),t.module("ui.router.state").provider("$uiViewScroll",w),E.$inject=["$state","$injector","$uiViewScroll","$interpolate"],C.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",E),t.module("ui.router.state").directive("uiView",C),A.$inject=["$state","$timeout"],L.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",A).directive("uiSrefActive",L).directive("uiSrefActiveEq",L),H.$inject=["$state"],I.$inject=["$state"],t.module("ui.router.state").filter("isState",H).filter("includedByState",I)}(window,window.angular),function(e){"use strict";var t=e.module("angular-bind-html-compile",[]);t.directive("bindHtmlCompile",["$compile",function(e){return{restrict:"A",link:function(t,n,i){t.$watch(function(){return t.$eval(i.bindHtmlCompile)},function(r){n.html(r&&r.toString());var o=t;i.bindHtmlScope&&(o=t.$eval(i.bindHtmlScope)),e(n.contents())(o)})}}}])}(window.angular),!function(e,t){"use strict";var n=t.isDefined,i=t.isUndefined,r=t.isNumber,o=t.isObject,a=t.isArray,l=t.extend,s=t.toJson,c=t.module("LocalStorageModule",[]);c.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(e){return this.prefix=e,this},this.setStorageType=function(e){return this.storageType=e,this},this.setStorageCookie=function(e,t){return this.cookie.expiry=e,this.cookie.path=t,this},this.setStorageCookieDomain=function(e){return this.cookie.domain=e,this},this.setNotify=function(e,t){return this.notify={setItem:e,removeItem:t},this},this.$get=["$rootScope","$window","$document","$parse",function(e,t,c,u){var d,p=this,h=p.prefix,f=p.cookie,g=p.notify,m=p.storageType;c?c[0]&&(c=c[0]):c=document,"."!==h.substr(-1)&&(h=h?h+".":"");var v=function(e){return h+e},$=function(){try{var n=m in t&&null!==t[m],i=v("__"+Math.round(1e7*Math.random()));return n&&(d=t[m],d.setItem(i,""),d.removeItem(i)),n}catch(r){return m="cookie",e.$broadcast("LocalStorageModule.notification.error",r.message),!1}}(),b=function(t,n){if(n=i(n)?null:s(n),!$||"cookie"===p.storageType)return $||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{
key:t,newvalue:n,storageType:"cookie"}),C(t,n);try{d&&d.setItem(v(t),n),g.setItem&&e.$broadcast("LocalStorageModule.notification.setitem",{key:t,newvalue:n,storageType:p.storageType})}catch(r){return e.$broadcast("LocalStorageModule.notification.error",r.message),C(t,n)}return!0},y=function(t){if(!$||"cookie"===p.storageType)return $||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),k(t);var n=d?d.getItem(v(t)):null;if(!n||"null"===n)return null;try{return JSON.parse(n)}catch(i){return n}},S=function(){var t,n;for(t=0;t<arguments.length;t++)if(n=arguments[t],$&&"cookie"!==p.storageType)try{d.removeItem(v(n)),g.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:p.storageType})}catch(i){e.$broadcast("LocalStorageModule.notification.error",i.message),T(n)}else $||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.removeItem&&e.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:"cookie"}),T(n)},x=function(){if(!$)return e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var t=h.length,n=[];for(var i in d)if(i.substr(0,t)===h)try{n.push(i.substr(t))}catch(r){return e.$broadcast("LocalStorageModule.notification.error",r.Description),[]}return n},w=function(t){var n=h?new RegExp("^"+h):new RegExp,i=t?new RegExp(t):new RegExp;if(!$||"cookie"===p.storageType)return $||e.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),M();var r=h.length;for(var o in d)if(n.test(o)&&i.test(o.substr(r)))try{S(o.substr(r))}catch(a){return e.$broadcast("LocalStorageModule.notification.error",a.message),M()}return!0},E=function(){try{return t.navigator.cookieEnabled||"cookie"in c&&(c.cookie.length>0||(c.cookie="test").indexOf.call(c.cookie,"test")>-1)}catch(n){return e.$broadcast("LocalStorageModule.notification.error",n.message),!1}}(),C=function(t,n,l){if(i(n))return!1;if((a(n)||o(n))&&(n=s(n)),!E)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var u="",d=new Date,p="";if(null===n?(d.setTime(d.getTime()+-864e5),u="; expires="+d.toGMTString(),n=""):r(l)&&0!==l?(d.setTime(d.getTime()+24*l*60*60*1e3),u="; expires="+d.toGMTString()):0!==f.expiry&&(d.setTime(d.getTime()+24*f.expiry*60*60*1e3),u="; expires="+d.toGMTString()),t){var h="; path="+f.path;f.domain&&(p="; domain="+f.domain),c.cookie=v(t)+"="+encodeURIComponent(n)+u+h+p}}catch(g){return e.$broadcast("LocalStorageModule.notification.error",g.message),!1}return!0},k=function(t){if(!E)return e.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var n=c.cookie&&c.cookie.split(";")||[],i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(v(t)+"=")){var o=decodeURIComponent(r.substring(h.length+t.length+1,r.length));try{return JSON.parse(o)}catch(a){return o}}}return null},T=function(e){C(e,null)},M=function(){for(var e=null,t=h.length,n=c.cookie.split(";"),i=0;i<n.length;i++){for(e=n[i];" "===e.charAt(0);)e=e.substring(1,e.length);var r=e.substring(t,e.indexOf("="));T(r)}},A=function(){return m},L=function(e,t,i,r){r=r||t;var a=y(r);return null===a&&n(i)?a=i:o(a)&&o(i)&&(a=l(i,a)),u(t).assign(e,a),e.$watch(t,function(e){b(r,e)},o(e[t]))},H=function(){for(var e=0,n=t[m],i=0;i<n.length;i++)0===n.key(i).indexOf(h)&&e++;return e};return{isSupported:$,getStorageType:A,set:b,add:b,get:y,keys:x,remove:S,clearAll:w,bind:L,deriveKey:v,length:H,cookie:{isSupported:E,set:C,add:C,get:k,remove:T,clearAll:M}}}]})}(window,window.angular),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig",function(e,t,n,i,r,o){o=o||{};var a=0,l="ui-tinymce";return o.baseUrl&&(tinymce.baseURL=o.baseUrl),{require:["ngModel","^?form"],link:function(s,c,u,d){function p(e){e?(h(),g&&g.getBody().setAttribute("contenteditable",!1)):(h(),g&&!g.settings.readonly&&g.getBody().setAttribute("contenteditable",!0))}function h(){g||(g=tinymce.get(u.id))}if(i.tinymce){var f,g,m=d[0],v=d[1]||null,$={},b=function(t){var n=t.getContent({format:$.format}).trim();n=r.trustAsHtml(n),m.$setViewValue(n),e.$$phase||s.$apply()};u.$set("id",l+"-"+a++),f={},angular.extend(f,s.$eval(u.uiTinymce));var y={setup:function(e){e.on("init",function(){m.$render(),m.$setPristine(),v&&v.$setPristine()}),e.on("ExecCommand",function(){e.save(),b(e)}),e.on("change",function(){e.save(),b(e)}),e.on("blur",function(){c[0].blur()}),e.on("ObjectResized",function(){e.save(),b(e)}),e.on("remove",function(){c.remove()}),f.setup&&f.setup(e,{updateView:b})},format:f.format||"html",selector:"#"+u.id};angular.extend($,o,f,y),n(function(){tinymce.init($),p(s.$eval(u.ngDisabled))}),m.$formatters.unshift(function(e){return e?r.trustAsHtml(e):""}),m.$parsers.unshift(function(e){return e?r.getTrustedHtml(e):""}),m.$render=function(){h();var e=m.$viewValue?r.getTrustedHtml(m.$viewValue):"";g&&g.getDoc()&&(g.setContent(e),g.fire("change"))},u.$observe("disabled",p),s.$on("$tinymce:refresh",function(e,n){var i=u.id;if(angular.isUndefined(n)||n===i){var r=c.parent(),o=c.clone();o.removeAttr("id"),o.removeAttr("style"),o.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,i),r.append(t(o)(s))}}),s.$on("$destroy",function(){h(),g&&(g.remove(),g=null)})}}}}]),!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof module&&module.exports?module.exports=t(require("angular")):t(e.angular)}(this,function(e){"use strict";var t=e.module("rzModule",[]).value("throttle",function(e,t,n){var i,r,o,a=Date.now||function(){return(new Date).getTime()},l=null,s=0;n=n||{};var c=function(){s=n.leading===!1?0:a(),l=null,o=e.apply(i,r),i=r=null};return function(){var u=a();s||n.leading!==!1||(s=u);var d=t-(u-s);return i=this,r=arguments,0>=d?(clearTimeout(l),l=null,s=u,o=e.apply(i,r),i=r=null):l||n.trailing===!1||(l=setTimeout(c,d)),o}}).factory("RzSlider",["$timeout","$document","$window","throttle",function(t,n,i,r){var o=function(e,t,n){this.scope=e,this.attributes=n,this.sliderElem=t,this.range=void 0!==n.rzSliderHigh&&void 0!==n.rzSliderModel,this.dragRange=this.range&&"true"===n.rzSliderDraggableRange,this.dragging={active:!1,value:0,difference:0,offset:0,lowDist:0,highDist:0},this.handleHalfWidth=0,this.alwaysShowBar=!!n.rzSliderAlwaysShowBar,this.maxLeft=0,this.precision=0,this.step=0,this.tracking="",this.minValue=0,this.maxValue=0,this.hideLimitLabels=!!n.rzSliderHideLimitLabels,this.presentOnly="true"===n.rzSliderPresentOnly,this.showTicks=n.rzSliderShowTicks||n.rzSliderShowTicksValue,this.showTicksValue=n.rzSliderShowTicksValue,this.disabled=this.scope.rzSliderDisabled,this.interval=null!==this.scope.rzSliderInterval?this.scope.rzSliderInterval:350,this.valueRange=0,this.initHasRun=!1,this.customTrFn=this.scope.rzSliderTranslate()||function(e){return String(e)},this.deRegFuncs=[],this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.ticks=null,this.init()};return o.prototype={init:function(){var n,o,a,l=e.bind(this,this.calcViewDimensions),s=this;this.initElemHandles(),this.addAccessibility(),this.setDisabledState(),this.calcViewDimensions(),this.setMinAndMax(),this.precision=void 0===this.scope.rzSliderPrecision?0:+this.scope.rzSliderPrecision,this.step=void 0===this.scope.rzSliderStep?1:+this.scope.rzSliderStep,t(function(){s.updateCeilLab(),s.updateFloorLab(),s.initHandles(),s.bindEvents()}),a=this.scope.$on("reCalcViewDimensions",l),this.deRegFuncs.push(a),e.element(i).on("resize",l),this.initHasRun=!0,n=r(function(){s.setMinAndMax(),s.updateLowHandle(s.valueToOffset(s.scope.rzSliderModel)),s.updateSelectionBar(),s.updateTicksScale(),s.range&&s.updateCmbLabel()},s.interval),o=r(function(){s.setMinAndMax(),s.updateHighHandle(s.valueToOffset(s.scope.rzSliderHigh)),s.updateSelectionBar(),s.updateTicksScale(),s.updateCmbLabel()},s.interval),this.scope.$on("rzSliderForceRender",function(){s.resetLabelsValue(),n(),s.range&&o(),s.resetSlider()}),a=this.scope.$watch("rzSliderModel",function(e,t){e!==t&&n()}),this.deRegFuncs.push(a),a=this.scope.$watch("rzSliderHigh",function(e,t){e!==t&&o()}),this.deRegFuncs.push(a),this.scope.$watch("rzSliderFloor",function(e,t){e!==t&&s.resetSlider()}),this.deRegFuncs.push(a),a=this.scope.$watch("rzSliderCeil",function(e,t){e!==t&&s.resetSlider()}),this.deRegFuncs.push(a),a=this.scope.$watch("rzSliderShowTicks",function(e,t){e!==t&&s.resetSlider()}),this.deRegFuncs.push(a),a=this.scope.$watch("rzSliderShowTicksValue",function(e,t){e!==t&&s.resetSlider()}),this.deRegFuncs.push(a),a=this.scope.$watch("rzSliderDisabled",function(e,t){e!==t&&(s.resetSlider(),s.disabled?s.unbindEvents():s.bindEvents())}),this.deRegFuncs.push(a),this.scope.$on("$destroy",function(){s.unbindEvents(),e.element(i).off("resize",l),s.deRegFuncs.map(function(e){e()})})},resetSlider:function(){this.setMinAndMax(),this.updateCeilLab(),this.updateFloorLab(),this.setDisabledState(),this.calcViewDimensions()},setDisabledState:function(){this.disabled=this.scope.rzSliderDisabled,this.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function(){this.minLab.rzsv=void 0,this.maxLab.rzsv=void 0},initHandles:function(){this.updateLowHandle(this.valueToOffset(this.scope.rzSliderModel)),this.range&&this.updateHighHandle(this.valueToOffset(this.scope.rzSliderHigh)),this.updateSelectionBar(),this.range&&this.updateCmbLabel(),this.updateTicksScale()},translateFn:function(e,t,n){n=void 0===n?!0:n;var i=(n?this.customTrFn(e):e).toString(),r=!1;(void 0===t.rzsv||t.rzsv.length!==i.length||t.rzsv.length>0&&0===t.rzsw)&&(r=!0,t.rzsv=i),t.text(i),r&&this.getWidth(t)},setMinAndMax:function(){this.scope.rzSliderFloor?this.minValue=+this.scope.rzSliderFloor:this.minValue=this.scope.rzSliderFloor=0,this.scope.rzSliderCeil?this.maxValue=+this.scope.rzSliderCeil:this.maxValue=this.scope.rzSliderCeil=this.range?this.scope.rzSliderHigh:this.scope.rzSliderModel,this.scope.rzSliderStep&&(this.step=+this.scope.rzSliderStep),this.valueRange=this.maxValue-this.minValue},initElemHandles:function(){e.forEach(this.sliderElem.children(),function(t,n){var i=e.element(t);switch(n){case 0:this.fullBar=i;break;case 1:this.selBar=i;break;case 2:this.minH=i;break;case 3:this.maxH=i;break;case 4:this.flrLab=i;break;case 5:this.ceilLab=i;break;case 6:this.minLab=i;break;case 7:this.maxLab=i;break;case 8:this.cmbLab=i;break;case 9:this.ticks=i}},this),this.selBar.rzsl=0,this.minH.rzsl=0,this.maxH.rzsl=0,this.flrLab.rzsl=0,this.ceilLab.rzsl=0,this.minLab.rzsl=0,this.maxLab.rzsl=0,this.cmbLab.rzsl=0,this.hideLimitLabels&&(this.flrLab.rzAlwaysHide=!0,this.ceilLab.rzAlwaysHide=!0,this.hideEl(this.flrLab),this.hideEl(this.ceilLab)),this.showTicksValue&&(this.flrLab.rzAlwaysHide=!0,this.ceilLab.rzAlwaysHide=!0,this.minLab.rzAlwaysHide=!0,this.maxLab.rzAlwaysHide=!0,this.cmbLab.rzAlwaysHide=!0,this.hideEl(this.flrLab),this.hideEl(this.ceilLab),this.hideEl(this.minLab),this.hideEl(this.maxLab),this.hideEl(this.cmbLab)),this.range===!1&&(this.cmbLab.remove(),this.maxLab.remove(),this.maxH.rzAlwaysHide=!0,this.maxH[0].style.zIndex="-1000",this.hideEl(this.maxH)),this.range===!1&&this.alwaysShowBar===!1&&(this.maxH.remove(),this.selBar.remove()),this.dragRange&&(this.selBar.css("cursor","move"),this.selBar.addClass("rz-draggable"))},addAccessibility:function(){this.sliderElem.attr("role","slider")},calcViewDimensions:function(){var e=this.getWidth(this.minH);this.handleHalfWidth=e/2,this.barWidth=this.getWidth(this.fullBar),this.maxLeft=this.barWidth-e,this.getWidth(this.sliderElem),this.sliderElem.rzsl=this.sliderElem[0].getBoundingClientRect().left,this.initHasRun&&(this.updateFloorLab(),this.updateCeilLab(),this.initHandles())},updateTicksScale:function(){if(this.showTicks&&this.step){for(var e="",t=Math.round((this.maxValue-this.minValue)/this.step)+1,n=0;t>n;n++){var i=this.roundStep(this.minValue+n*this.step),r=this.isTickSelected(i)?"selected":"";e+='<li class="tick '+r+'">',this.showTicksValue&&(e+='<span class="tick-value">'+this.getDisplayValue(i)+"</span>"),e+="</li>"}this.ticks.html(e)}},isTickSelected:function(e){return this.valueToOffset(e),!this.range&&this.alwaysShowBar&&e<=this.scope.rzSliderModel?!0:this.range&&e>=this.scope.rzSliderModel&&e<=this.scope.rzSliderHigh?!0:!1},updateCeilLab:function(){this.translateFn(this.scope.rzSliderCeil,this.ceilLab),this.setLeft(this.ceilLab,this.barWidth-this.ceilLab.rzsw),this.getWidth(this.ceilLab)},updateFloorLab:function(){this.translateFn(this.scope.rzSliderFloor,this.flrLab),this.getWidth(this.flrLab)},callOnStart:function(){if(this.scope.rzSliderOnStart){var e=this;t(function(){e.scope.rzSliderOnStart()})}},callOnChange:function(){if(this.scope.rzSliderOnChange){var e=this;t(function(){e.scope.rzSliderOnChange()})}},callOnEnd:function(){if(this.scope.rzSliderOnEnd){var e=this;t(function(){e.scope.rzSliderOnEnd()})}},updateHandles:function(e,t){return"rzSliderModel"===e?(this.updateLowHandle(t),this.updateSelectionBar(),this.updateTicksScale(),void(this.range&&this.updateCmbLabel())):"rzSliderHigh"===e?(this.updateHighHandle(t),this.updateSelectionBar(),this.updateTicksScale(),void(this.range&&this.updateCmbLabel())):(this.updateLowHandle(t),this.updateHighHandle(t),this.updateSelectionBar(),this.updateTicksScale(),void this.updateCmbLabel())},updateLowHandle:function(e){this.setLeft(this.minH,e),this.translateFn(this.scope.rzSliderModel,this.minLab),this.setLeft(this.minLab,e-this.minLab.rzsw/2+this.handleHalfWidth),this.shFloorCeil()},updateHighHandle:function(e){this.setLeft(this.maxH,e),this.translateFn(this.scope.rzSliderHigh,this.maxLab),this.setLeft(this.maxLab,e-this.maxLab.rzsw/2+this.handleHalfWidth),this.shFloorCeil()},shFloorCeil:function(){var e=!1,t=!1;this.minLab.rzsl<=this.flrLab.rzsl+this.flrLab.rzsw+5?(e=!0,this.hideEl(this.flrLab)):(e=!1,this.showEl(this.flrLab)),this.minLab.rzsl+this.minLab.rzsw>=this.ceilLab.rzsl-this.handleHalfWidth-10?(t=!0,this.hideEl(this.ceilLab)):(t=!1,this.showEl(this.ceilLab)),this.range&&(this.maxLab.rzsl+this.maxLab.rzsw>=this.ceilLab.rzsl-10?this.hideEl(this.ceilLab):t||this.showEl(this.ceilLab),this.maxLab.rzsl<=this.flrLab.rzsl+this.flrLab.rzsw+this.handleHalfWidth?this.hideEl(this.flrLab):e||this.showEl(this.flrLab))},updateSelectionBar:function(){this.setWidth(this.selBar,Math.abs(this.maxH.rzsl-this.minH.rzsl)+this.handleHalfWidth),this.setLeft(this.selBar,this.range?this.minH.rzsl+this.handleHalfWidth:0)},updateCmbLabel:function(){var e,t;this.minLab.rzsl+this.minLab.rzsw+10>=this.maxLab.rzsl?(e=this.getDisplayValue(this.scope.rzSliderModel),t=this.getDisplayValue(this.scope.rzSliderHigh),this.translateFn(e+" - "+t,this.cmbLab,!1),this.setLeft(this.cmbLab,this.selBar.rzsl+this.selBar.rzsw/2-this.cmbLab.rzsw/2),this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)):(this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab))},getDisplayValue:function(e){return this.customTrFn?this.customTrFn(e):e},roundStep:function(e){var t=this.step,n=+((e-this.minValue)%t).toFixed(3),i=n>t/2?e+t-n:e-n;return i=i.toFixed(this.precision),+i},hideEl:function(e){return e.css({opacity:0})},showEl:function(e){return e.rzAlwaysHide?e:e.css({opacity:1})},setLeft:function(e,t){return e.rzsl=t,e.css({left:t+"px"}),t},getWidth:function(e){var t=e[0].getBoundingClientRect();return e.rzsw=t.right-t.left,e.rzsw},setWidth:function(e,t){return e.rzsw=t,e.css({width:t+"px"}),t},valueToOffset:function(e){return(e-this.minValue)*this.maxLeft/this.valueRange||0},offsetToValue:function(e){return e/this.maxLeft*this.valueRange+this.minValue},getEventX:function(e){return"clientX"in e?e.clientX:void 0===e.originalEvent?e.touches[0].clientX:e.originalEvent.touches[0].clientX},getNearestHandle:function(e){if(!this.range)return this.minH;var t=this.getEventX(e)-this.sliderElem.rzsl-this.handleHalfWidth;return Math.abs(t-this.minH.rzsl)<Math.abs(t-this.maxH.rzsl)?this.minH:this.maxH},bindEvents:function(){if(!this.presentOnly&&!this.disabled){var t,n,i;this.dragRange?(t="rzSliderDrag",n=this.onDragStart,i=this.onDragMove):(t="rzSliderModel",n=this.onStart,i=this.onMove),this.minH.on("mousedown",e.bind(this,this.onStart,this.minH,"rzSliderModel")),this.range&&this.maxH.on("mousedown",e.bind(this,this.onStart,this.maxH,"rzSliderHigh")),this.fullBar.on("mousedown",e.bind(this,this.onStart,null,null)),this.fullBar.on("mousedown",e.bind(this,this.onMove,this.fullBar)),this.selBar.on("mousedown",e.bind(this,n,null,t)),this.selBar.on("mousedown",e.bind(this,i,this.selBar)),this.ticks.on("mousedown",e.bind(this,this.onStart,null,null)),this.ticks.on("mousedown",e.bind(this,this.onMove,this.ticks)),this.minH.on("touchstart",e.bind(this,this.onStart,this.minH,"rzSliderModel")),this.range&&this.maxH.on("touchstart",e.bind(this,this.onStart,this.maxH,"rzSliderHigh")),this.fullBar.on("touchstart",e.bind(this,this.onStart,null,null)),this.fullBar.on("touchstart",e.bind(this,this.onMove,this.fullBar)),this.selBar.on("touchstart",e.bind(this,n,null,t)),this.selBar.on("touchstart",e.bind(this,i,this.selBar)),this.ticks.on("touchstart",e.bind(this,this.onStart,null,null)),this.ticks.on("touchstart",e.bind(this,this.onMove,this.ticks))}},unbindEvents:function(){this.minH.off(),this.maxH.off(),this.fullBar.off(),this.selBar.off(),this.ticks.off()},onStart:function(t,i,r){var o,a,l=this.getEventNames(r);r.stopPropagation(),r.preventDefault(),""===this.tracking&&(this.calcViewDimensions(),t?this.tracking=i:(t=this.getNearestHandle(r),this.tracking=t===this.minH?"rzSliderModel":"rzSliderHigh"),t.addClass("rz-active"),o=e.bind(this,this.dragging.active?this.onDragMove:this.onMove,t),a=e.bind(this,this.onEnd,o),n.on(l.moveEvent,o),n.one(l.endEvent,a),this.callOnStart())},onMove:function(e,t){var n,i,r,o=this.getEventX(t);if(n=this.sliderElem.rzsl,i=o-n-this.handleHalfWidth,0>=i){if(0===e.rzsl)return;r=this.minValue,i=0}else if(i>=this.maxLeft){if(e.rzsl===this.maxLeft)return;r=this.maxValue,i=this.maxLeft}else r=this.offsetToValue(i),r=this.roundStep(r),i=this.valueToOffset(r);this.positionTrackingHandle(r,i)},onDragStart:function(e,t,n){var i=this.getEventX(n)-this.sliderElem.rzsl-this.handleHalfWidth;this.dragging={active:!0,value:this.offsetToValue(i),difference:this.scope.rzSliderHigh-this.scope.rzSliderModel,offset:i,lowDist:i-this.minH.rzsl,highDist:this.maxH.rzsl-i},this.minH.addClass("rz-active"),this.maxH.addClass("rz-active"),this.onStart(e,t,n)},onDragMove:function(e,t){var n,i,r,o,a=this.getEventX(t)-this.sliderElem.rzsl-this.handleHalfWidth;if(a<=this.dragging.lowDist){if(e.rzsl===this.dragging.lowDist)return;r=this.minValue,n=0,o=this.dragging.difference,i=this.valueToOffset(o)}else if(a>=this.maxLeft-this.dragging.highDist){if(e.rzsl===this.dragging.highDist)return;o=this.maxValue,i=this.maxLeft,r=this.maxValue-this.dragging.difference,n=this.valueToOffset(r)}else r=this.offsetToValue(a-this.dragging.lowDist),r=this.roundStep(r),n=this.valueToOffset(r),o=r+this.dragging.difference,i=this.valueToOffset(o);this.positionTrackingBar(r,o,n,i)},positionTrackingBar:function(e,t,n,i){this.scope.rzSliderModel=e,this.scope.rzSliderHigh=t,this.updateHandles("rzSliderModel",n),this.updateHandles("rzSliderHigh",i),this.scope.$apply(),this.callOnChange()},positionTrackingHandle:function(e,t){this.range&&("rzSliderModel"===this.tracking&&e>=this.scope.rzSliderHigh?(this.scope[this.tracking]=this.scope.rzSliderHigh,this.updateHandles(this.tracking,this.maxH.rzsl),this.tracking="rzSliderHigh",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.scope.$apply(),this.callOnChange()):"rzSliderHigh"===this.tracking&&e<=this.scope.rzSliderModel&&(this.scope[this.tracking]=this.scope.rzSliderModel,this.updateHandles(this.tracking,this.minH.rzsl),this.tracking="rzSliderModel",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.scope.$apply(),this.callOnChange())),this.scope[this.tracking]!==e&&(this.scope[this.tracking]=e,this.updateHandles(this.tracking,t),this.scope.$apply(),this.callOnChange())},onEnd:function(e,t){var i=this.getEventNames(t).moveEvent;this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),n.off(i,e),this.scope.$emit("slideEnded"),this.tracking="",this.dragging.active=!1,this.callOnEnd()},getEventNames:function(e){var t={moveEvent:"",endEvent:""};return e.touches||void 0!==e.originalEvent&&e.originalEvent.touches?(t.moveEvent="touchmove",t.endEvent="touchend"):(t.moveEvent="mousemove",t.endEvent="mouseup"),t}},o}]).directive("rzslider",["RzSlider",function(e){return{restrict:"E",scope:{rzSliderFloor:"=?",rzSliderCeil:"=?",rzSliderStep:"@",rzSliderPrecision:"@",rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderDraggable:"@",rzSliderTranslate:"&",rzSliderHideLimitLabels:"=?",rzSliderAlwaysShowBar:"=?",rzSliderPresentOnly:"@",rzSliderOnStart:"&",rzSliderOnChange:"&",rzSliderOnEnd:"&",rzSliderShowTicks:"=?",rzSliderShowTicksValue:"=?",rzSliderDisabled:"=?",rzSliderInterval:"=?"},templateUrl:function(e,t){return t.rzSliderTplUrl||"rzSliderTpl.html"},link:function(t,n,i){return new e(t,n,i)}}}]);return t.run(["$templateCache",function(e){e.put("rzSliderTpl.html",'<span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-selection"></span></span> <span class=rz-pointer></span> <span class=rz-pointer></span> <span class="rz-bubble rz-limit"></span> <span class="rz-bubble rz-limit"></span> <span class=rz-bubble></span> <span class=rz-bubble></span> <span class=rz-bubble></span><ul class=rz-ticks></ul>')}]),t}),!function(){"use strict";var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var n=t.which;switch(n){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var t=0,n=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,dropdownPosition:"auto",generateId:function(){return t++},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,i,r){r(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?t.replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);n.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(e,t,n,i){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(r,o){if(!o.repeat)throw n("repeat","Expected 'repeat' expression.");return function(r,o,a,l,s){var c=a.groupBy,u=a.groupFilter;if(l.parseRepeatAttr(a.repeat,c,u),l.disableChoiceExpression=a.uiDisableChoice,l.onHighlightCallback=a.onHighlight,l.dropdownPosition=a.position?a.position.toLowerCase():e.dropdownPosition,c){var d=o.querySelectorAll(".ui-select-choices-group");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",d.length);d.attr("ng-repeat",t.getGroupNgRepeatExpression())}var p=o.querySelectorAll(".ui-select-choices-row");if(1!==p.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",p.length);p.attr("ng-repeat",l.parserResult.repeatExpression(c)).attr("ng-if","$select.open").attr("ng-click","$select.select("+l.parserResult.itemName+",false,$event)");var h=o.querySelectorAll(".ui-select-choices-row-inner");if(1!==h.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",h.length);h.attr("uis-transclude-append",""),i(o,s)(r),r.$watch("$select.search",function(e){e&&!l.open&&l.multiple&&l.activate(!1,!0),l.activeIndex=l.tagging.isActivated?-1:0,l.refresh(a.refresh)}),a.$observe("refreshDelay",function(){var t=r.$eval(a.refreshDelay);l.refreshDelay=void 0!==t?t:e.refreshDelay})}}}}]),n.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse",function(t,n,i,r,o,a,l,s){function c(){(h.resetSearchInput||void 0===h.resetSearchInput&&l.resetSearchInput)&&(h.search=f,h.selected&&h.items.length&&!h.multiple&&(h.activeIndex=h.items.indexOf(h.selected)))}function u(e,t){var n,i,r=[];for(n=0;n<t.length;n++)for(i=0;i<e.length;i++)e[i].name==[t[n]]&&r.push(e[i]);return r}function d(t){var n=!0;switch(t){case e.DOWN:!h.open&&h.multiple?h.activate(!1,!0):h.activeIndex<h.items.length-1&&h.activeIndex++;break;case e.UP:!h.open&&h.multiple?h.activate(!1,!0):(h.activeIndex>0||0===h.search.length&&h.tagging.isActivated&&h.activeIndex>-1)&&h.activeIndex--;break;case e.TAB:(!h.multiple||h.open)&&h.select(h.items[h.activeIndex],!0);break;case e.ENTER:h.open&&(h.tagging.isActivated||h.activeIndex>=0)?h.select(h.items[h.activeIndex]):h.activate(!1,!0);break;case e.ESC:h.close();break;default:n=!1}return n}function p(){var e=n.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw a("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(h.activeIndex<0)){var i=t[h.activeIndex],r=i.offsetTop+i.clientHeight-e[0].scrollTop,o=e[0].offsetHeight;r>o?e[0].scrollTop+=r-o:r<i.clientHeight&&(h.isGrouped&&0===h.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=i.clientHeight-r)}}var h=this,f="";if(h.placeholder=l.placeholder,h.searchEnabled=l.searchEnabled,h.sortable=l.sortable,h.refreshDelay=l.refreshDelay,h.removeSelected=!1,h.closeOnSelect=!0,h.search=f,h.activeIndex=0,h.items=[],h.open=!1,h.focus=!1,h.disabled=!1,h.selected=void 0,h.dropdownPosition="auto",h.focusser=void 0,h.resetSearchInput=!0,h.multiple=void 0,h.disableChoiceExpression=void 0,h.tagging={isActivated:!1,fct:void 0},h.taggingTokens={isActivated:!1,tokens:void 0},h.lockChoiceExpression=void 0,h.clickTriggeredSelect=!1,h.$filter=r,h.searchInput=n.querySelectorAll("input.ui-select-search"),1!==h.searchInput.length)throw a("searchInput","Expected 1 input.ui-select-search but got '{0}'.",h.searchInput.length);h.isEmpty=function(){return angular.isUndefined(h.selected)||null===h.selected||""===h.selected},h.activate=function(e,n){h.disabled||h.open||(n||c(),t.$broadcast("uis:activate"),h.open=!0,h.activeIndex=h.activeIndex>=h.items.length?0:h.activeIndex,-1===h.activeIndex&&h.taggingLabel!==!1&&(h.activeIndex=0),i(function(){h.search=e||h.search,h.searchInput[0].focus(),!h.tagging.isActivated&&h.items.length>1&&p()}))},h.findGroupByName=function(e){return h.groups&&h.groups.filter(function(t){return t.name===e})[0]},h.parseRepeatAttr=function(e,n,i){function r(e){var r=t.$eval(n);if(h.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(r)?r(e):e[r],n=h.findGroupByName(t);n?n.items.push(e):h.groups.push({name:t,items:[e]})}),i){var o=t.$eval(i);angular.isFunction(o)?h.groups=o(h.groups):angular.isArray(o)&&(h.groups=u(h.groups,o))}h.items=[],h.groups.forEach(function(e){h.items=h.items.concat(e.items)})}function l(e){h.items=e}h.setItemsFn=n?r:l,h.parserResult=o.parse(e),h.isGrouped=!!n,h.itemProperty=h.parserResult.itemName;var c=h.parserResult.source,d=function(){var e=c(t);t.$uisSource=Object.keys(e).map(function(t){var n={};return n[h.parserResult.keyName]=t,n.value=e[t],n})};h.parserResult.keyName&&(d(),h.parserResult.source=s("$uisSource"+h.parserResult.filters),t.$watch(c,function(e,t){e!==t&&d()},!0)),h.refreshItems=function(e){e=e||h.parserResult.source(t);var n=h.selected;if(h.isEmpty()||angular.isArray(n)&&!n.length||!h.removeSelected)h.setItemsFn(e);else if(void 0!==e){var i=e.filter(function(e){return n&&n.indexOf(e)<0});h.setItemsFn(i)}("auto"===h.dropdownPosition||"up"===h.dropdownPosition)&&t.calculateDropdownPos()},t.$watchCollection(h.parserResult.source,function(e){if(void 0===e||null===e)h.items=[];else{if(!angular.isArray(e))throw a("items","Expected an array but got '{0}'.",e);h.refreshItems(e),h.ngModel.$modelValue=null}})};var g;h.refresh=function(e){void 0!==e&&(g&&i.cancel(g),g=i(function(){t.$eval(e)},h.refreshDelay))},h.isActive=function(e){if(!h.open)return!1;var t=h.items.indexOf(e[h.itemProperty]),n=t===h.activeIndex;return!n||0>t&&h.taggingLabel!==!1||0>t&&h.taggingLabel===!1?!1:(n&&!angular.isUndefined(h.onHighlightCallback)&&e.$eval(h.onHighlightCallback),n)},h.isDisabled=function(e){if(h.open){var t,n=h.items.indexOf(e[h.itemProperty]),i=!1;return n>=0&&!angular.isUndefined(h.disableChoiceExpression)&&(t=h.items[n],i=!!e.$eval(h.disableChoiceExpression),t._uiSelectChoiceDisabled=i),i}},h.select=function(e,n,r){if(void 0===e||!e._uiSelectChoiceDisabled){if(!h.items&&!h.search)return;if(!e||!e._uiSelectChoiceDisabled){if(h.tagging.isActivated){if(h.taggingLabel===!1)if(h.activeIndex<0){if(e=void 0!==h.tagging.fct?h.tagging.fct(h.search):h.search,!e||angular.equals(h.items[0],e))return}else e=h.items[h.activeIndex];else if(0===h.activeIndex){if(void 0===e)return;if(void 0!==h.tagging.fct&&"string"==typeof e){if(e=h.tagging.fct(h.search),!e)return}else"string"==typeof e&&(e=e.replace(h.taggingLabel,"").trim())}if(h.selected&&angular.isArray(h.selected)&&h.selected.filter(function(t){return angular.equals(t,e)}).length>0)return void h.close(n)}t.$broadcast("uis:select",e);var o={};o[h.parserResult.itemName]=e,i(function(){h.onSelectCallback(t,{$item:e,$model:h.parserResult.modelMapper(t,o)})}),h.closeOnSelect&&h.close(n),r&&"click"===r.type&&(h.clickTriggeredSelect=!0)}}},h.close=function(e){h.open&&(h.ngModel&&h.ngModel.$setTouched&&h.ngModel.$setTouched(),c(),h.open=!1,t.$broadcast("uis:close",e))},h.setFocus=function(){h.focus||h.focusInput[0].focus();
},h.clear=function(e){h.select(void 0),e.stopPropagation(),i(function(){h.focusser[0].focus()},0,!1)},h.toggle=function(e){h.open?(h.close(),e.preventDefault(),e.stopPropagation()):h.activate()},h.isLocked=function(e,t){var n,i=h.selected[t];return i&&!angular.isUndefined(h.lockChoiceExpression)&&(n=!!e.$eval(h.lockChoiceExpression),i._uiSelectChoiceLocked=n),n};var m=null;h.sizeSearchInput=function(){var e=h.searchInput[0],n=h.searchInput.parent().parent()[0],r=function(){return n.clientWidth*!!e.offsetParent},o=function(t){if(0===t)return!1;var n=t-e.offsetLeft-10;return 50>n&&(n=t),h.searchInput.css("width",n+"px"),!0};h.searchInput.css("width","10px"),i(function(){null!==m||o(r())||(m=t.$watch(r,function(e){o(e)&&(m(),m=null)}))})},h.searchInput.on("keydown",function(n){var r=n.which;t.$apply(function(){var t=!1;if((h.items.length>0||h.tagging.isActivated)&&(d(r),h.taggingTokens.isActivated)){for(var o=0;o<h.taggingTokens.tokens.length;o++)h.taggingTokens.tokens[o]===e.MAP[n.keyCode]&&h.search.length>0&&(t=!0);t&&i(function(){h.searchInput.triggerHandler("tagged");var t=h.search.replace(e.MAP[n.keyCode],"").trim();h.tagging.fct&&(t=h.tagging.fct(t)),t&&h.select(t,!0)})}}),e.isVerticalMovement(r)&&h.items.length>0&&p(),(r===e.ENTER||r===e.ESC)&&(n.preventDefault(),n.stopPropagation())}),h.searchInput.on("paste",function(e){var t=e.originalEvent.clipboardData.getData("text/plain");if(t&&t.length>0&&h.taggingTokens.isActivated&&h.tagging.fct){var n=t.split(h.taggingTokens.tokens[0]);n&&n.length>0&&(angular.forEach(n,function(e){var t=h.tagging.fct(e);t&&h.select(t,!0)}),e.preventDefault(),e.stopPropagation())}}),h.searchInput.on("tagged",function(){i(function(){c()})}),t.$on("$destroy",function(){h.searchInput.off("keyup keydown tagged blur paste")})}]),n.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,i,r,o,a){return{restrict:"EA",templateUrl:function(e,n){var i=n.theme||t.theme;return i+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(r,l){return angular.isDefined(l.multiple)?r.append("<ui-select-multiple/>").removeAttr("multiple"):r.append("<ui-select-single/>"),l.inputId&&(r.querySelectorAll("input.ui-select-search")[0].id=l.inputId),function(r,l,s,c,u){function d(e){if(f.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(l[0],e.target):l[0].contains(e.target),!t&&!f.clickTriggeredSelect){var n=["input","button","textarea"],i=angular.element(e.target).controller("uiSelect"),o=i&&i!==f;o||(o=~n.indexOf(e.target.tagName.toLowerCase())),f.close(o),r.$digest()}f.clickTriggeredSelect=!1}}function p(){var t=i(l);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",l.after(v),$=l[0].style.width,e.find("body").append(l),l[0].style.position="absolute",l[0].style.left=t.left+"px",l[0].style.top=t.top+"px",l[0].style.width=t.width+"px"}function h(){null!==v&&(v.replaceWith(l),v=null,l[0].style.position="",l[0].style.left="",l[0].style.top="",l[0].style.width=$)}var f=c[0],g=c[1];f.generatedId=t.generateId(),f.baseTitle=s.title||"Select box",f.focusserTitle=f.baseTitle+" focus",f.focusserId="focusser-"+f.generatedId,f.closeOnSelect=function(){return angular.isDefined(s.closeOnSelect)?o(s.closeOnSelect)():t.closeOnSelect}(),f.onSelectCallback=o(s.onSelect),f.onRemoveCallback=o(s.onRemove),f.limit=angular.isDefined(s.limit)?parseInt(s.limit,10):void 0,f.ngModel=g,f.choiceGrouped=function(e){return f.isGrouped&&e&&e.name},s.tabindex&&s.$observe("tabindex",function(e){f.focusInput.attr("tabindex",e),l.removeAttr("tabindex")}),r.$watch("searchEnabled",function(){var e=r.$eval(s.searchEnabled);f.searchEnabled=void 0!==e?e:t.searchEnabled}),r.$watch("sortable",function(){var e=r.$eval(s.sortable);f.sortable=void 0!==e?e:t.sortable}),s.$observe("disabled",function(){f.disabled=void 0!==s.disabled?s.disabled:!1}),s.$observe("resetSearchInput",function(){var e=r.$eval(s.resetSearchInput);f.resetSearchInput=void 0!==e?e:!0}),s.$observe("tagging",function(){if(void 0!==s.tagging){var e=r.$eval(s.tagging);f.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else f.tagging={isActivated:!1,fct:void 0}}),s.$observe("taggingLabel",function(){void 0!==s.tagging&&(f.taggingLabel="false"===s.taggingLabel?!1:void 0!==s.taggingLabel?s.taggingLabel:"(new)")}),s.$observe("taggingTokens",function(){if(void 0!==s.tagging){var e=void 0!==s.taggingTokens?s.taggingTokens.split("|"):[",","ENTER"];f.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(s.autofocus)&&a(function(){f.setFocus()}),angular.isDefined(s.focusOn)&&r.$on(s.focusOn,function(){a(function(){f.setFocus()})}),e.on("click",d),r.$on("$destroy",function(){e.off("click",d)}),u(r,function(e){var t=angular.element("<div>").append(e),i=t.querySelectorAll(".ui-select-match");if(i.removeAttr("ui-select-match"),i.removeAttr("data-ui-select-match"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",i.length);l.querySelectorAll(".ui-select-match").replaceWith(i);var r=t.querySelectorAll(".ui-select-choices");if(r.removeAttr("ui-select-choices"),r.removeAttr("data-ui-select-choices"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",r.length);l.querySelectorAll(".ui-select-choices").replaceWith(r)});var m=r.$eval(s.appendToBody);(void 0!==m?m:t.appendToBody)&&(r.$watch("$select.open",function(e){e?p():h()}),r.$on("$destroy",function(){h()}));var v=null,$="",b=null,y="direction-up";r.$watch("$select.open",function(){("auto"===f.dropdownPosition||"up"===f.dropdownPosition)&&r.calculateDropdownPos()});var S=function(e,t){e=e||i(l),t=t||i(b),b[0].style.position="absolute",b[0].style.top=-1*t.height+"px",l.addClass(y)},x=function(e,t){l.removeClass(y),e=e||i(l),t=t||i(b),b[0].style.position="",b[0].style.top=""};r.calculateDropdownPos=function(){if(f.open){if(b=angular.element(l).querySelectorAll(".ui-select-dropdown"),0===b.length)return;b[0].style.opacity=0,a(function(){if("up"===f.dropdownPosition)S(t,n);else{l.removeClass(y);var t=i(l),n=i(b),r=e[0].documentElement.scrollTop||e[0].body.scrollTop;t.top+t.height+n.height>r+e[0].documentElement.clientHeight?S(t,n):x(t,n)}b[0].style.opacity=1})}else{if(null===b||0===b.length)return;b[0].style.position="",b[0].style.top="",l.removeClass(y)}}}}}}]),n.directive("uiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme,i=t.parent().attr("multiple");return n+(i?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,i,r){function o(e){r.allowClear=angular.isDefined(e)?""===e?!0:"true"===e.toLowerCase():!1}r.lockChoiceExpression=i.uiLockChoice,i.$observe("placeholder",function(t){r.placeholder=void 0!==t?t:e.placeholder}),i.$observe("allowClear",o),o(i.allowClear),r.multiple&&r.sizeSearchInput()}}}]),n.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,i=this,r=e.$select;e.$evalAsync(function(){n=e.ngModel}),i.activeMatchIndex=-1,i.updateModel=function(){n.$setViewValue(Date.now()),i.refreshComponent()},i.refreshComponent=function(){r.refreshItems(),r.sizeSearchInput()},i.removeChoice=function(n){var o=r.selected[n];if(!o._uiSelectChoiceLocked){var a={};a[r.parserResult.itemName]=o,r.selected.splice(n,1),i.activeMatchIndex=-1,r.sizeSearchInput(),t(function(){r.onRemoveCallback(e,{$item:o,$model:r.parserResult.modelMapper(e,a)})}),i.updateModel()}},i.getPlaceholder=function(){return r.selected&&r.selected.length?void 0:r.placeholder}}],controllerAs:"$selectMultiple",link:function(i,r,o,a){function l(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function s(t){function n(){switch(t){case e.LEFT:return~h.activeMatchIndex?u:a;case e.RIGHT:return~h.activeMatchIndex&&s!==a?c:(d.activate(),!1);case e.BACKSPACE:return~h.activeMatchIndex?(h.removeChoice(s),u):a;case e.DELETE:return~h.activeMatchIndex?(h.removeChoice(h.activeMatchIndex),s):!1}}var i=l(d.searchInput[0]),r=d.selected.length,o=0,a=r-1,s=h.activeMatchIndex,c=h.activeMatchIndex+1,u=h.activeMatchIndex-1,p=s;return i>0||d.search.length&&t==e.RIGHT?!1:(d.close(),p=n(),h.activeMatchIndex=d.selected.length&&p!==!1?Math.min(a,Math.max(o,p)):-1,!0)}function c(e){if(void 0===e||void 0===d.search)return!1;var t=e.filter(function(e){return void 0===d.search.toUpperCase()||void 0===e?!1:e.toUpperCase()===d.search.toUpperCase()}).length>0;return t}function u(e,t){var n=-1;if(angular.isArray(e))for(var i=angular.copy(e),r=0;r<i.length;r++)if(void 0===d.tagging.fct)i[r]+" "+d.taggingLabel===t&&(n=r);else{var o=i[r];o.isTag=!0,angular.equals(o,t)&&(n=r)}return n}var d=a[0],p=i.ngModel=a[1],h=i.$selectMultiple;d.multiple=!0,d.removeSelected=!0,d.focusInput=d.searchInput,p.$parsers.unshift(function(){for(var e,t={},n=[],r=d.selected.length-1;r>=0;r--)t={},t[d.parserResult.itemName]=d.selected[r],e=d.parserResult.modelMapper(i,t),n.unshift(e);return n}),p.$formatters.unshift(function(e){var t,n=d.parserResult.source(i,{$select:{search:""}}),r={};if(!n)return e;var o=[],a=function(e,n){if(e&&e.length){for(var a=e.length-1;a>=0;a--){if(r[d.parserResult.itemName]=e[a],t=d.parserResult.modelMapper(i,r),d.parserResult.trackByExp){var l=/\.(.+)/.exec(d.parserResult.trackByExp);if(l.length>0&&t[l[1]]==n[l[1]])return o.unshift(e[a]),!0}if(angular.equals(t,n))return o.unshift(e[a]),!0}return!1}};if(!e)return o;for(var l=e.length-1;l>=0;l--)a(d.selected,e[l])||a(n,e[l])||o.unshift(e[l]);return o}),i.$watchCollection(function(){return p.$modelValue},function(e,t){t!=e&&(p.$modelValue=null,h.refreshComponent())}),p.$render=function(){if(!angular.isArray(p.$viewValue)){if(!angular.isUndefined(p.$viewValue)&&null!==p.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",p.$viewValue);d.selected=[]}d.selected=p.$viewValue,i.$evalAsync()},i.$on("uis:select",function(e,t){d.selected.length>=d.limit||(d.selected.push(t),h.updateModel())}),i.$on("uis:activate",function(){h.activeMatchIndex=-1}),i.$watch("$select.disabled",function(e,t){t&&!e&&d.sizeSearchInput()}),d.searchInput.on("keydown",function(t){var n=t.which;i.$apply(function(){var i=!1;e.isHorizontalMovement(n)&&(i=s(n)),i&&n!=e.TAB&&(t.preventDefault(),t.stopPropagation())})}),d.searchInput.on("keyup",function(t){if(e.isVerticalMovement(t.which)||i.$evalAsync(function(){d.activeIndex=d.taggingLabel===!1?-1:0}),d.tagging.isActivated&&d.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(d.activeIndex=d.taggingLabel===!1?-1:0,d.taggingLabel===!1)return;var n,r,o,a,l=angular.copy(d.items),s=angular.copy(d.items),p=!1,h=-1;if(void 0!==d.tagging.fct){if(o=d.$filter("filter")(l,{isTag:!0}),o.length>0&&(a=o[0]),l.length>0&&a&&(p=!0,l=l.slice(1,l.length),s=s.slice(1,s.length)),n=d.tagging.fct(d.search),n.isTag=!0,s.filter(function(e){return angular.equals(e,d.tagging.fct(d.search))}).length>0)return;n.isTag=!0}else{if(o=d.$filter("filter")(l,function(e){return e.match(d.taggingLabel)}),o.length>0&&(a=o[0]),r=l[0],void 0!==r&&l.length>0&&a&&(p=!0,l=l.slice(1,l.length),s=s.slice(1,s.length)),n=d.search+" "+d.taggingLabel,u(d.selected,d.search)>-1)return;if(c(s.concat(d.selected)))return void(p&&(l=s,i.$evalAsync(function(){d.activeIndex=0,d.items=l})));if(c(s))return void(p&&(d.items=s.slice(1,s.length)))}p&&(h=u(d.selected,n)),h>-1?l=l.slice(h+1,l.length-1):(l=[],l.push(n),l=l.concat(s)),i.$evalAsync(function(){d.activeIndex=0,d.items=l})}}),d.searchInput.on("blur",function(){n(function(){h.activeMatchIndex=-1})})}}}]),n.directive("uiSelectSingle",["$timeout","$compile",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,r,o,a){var l=a[0],s=a[1];s.$parsers.unshift(function(e){var t,n={};return n[l.parserResult.itemName]=e,t=l.parserResult.modelMapper(i,n)}),s.$formatters.unshift(function(e){var t,n=l.parserResult.source(i,{$select:{search:""}}),r={};if(n){var o=function(n){return r[l.parserResult.itemName]=n,t=l.parserResult.modelMapper(i,r),t==e};if(l.selected&&o(l.selected))return l.selected;for(var a=n.length-1;a>=0;a--)if(o(n[a]))return n[a]}return e}),i.$watch("$select.selected",function(e){s.$viewValue!==e&&s.$setViewValue(e)}),s.$render=function(){l.selected=s.$viewValue},i.$on("uis:select",function(e,t){l.selected=t}),i.$on("uis:close",function(e,n){t(function(){l.focusser.prop("disabled",!1),n||l.focusser[0].focus()},0,!1)}),i.$on("uis:activate",function(){c.prop("disabled",!0)});var c=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");n(c)(i),l.focusser=c,l.focusInput=c,r.parent().append(c),c.bind("focus",function(){i.$evalAsync(function(){l.focus=!0})}),c.bind("blur",function(){i.$evalAsync(function(){l.focus=!1})}),c.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),l.select(void 0),void i.$apply()):void(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||((t.which==e.DOWN||t.which==e.UP||t.which==e.ENTER||t.which==e.SPACE)&&(t.preventDefault(),t.stopPropagation(),l.activate()),i.$digest()))}),c.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(l.activate(c.val()),c.val(""),i.$digest())})}}}]),n.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:"^uiSelect",link:function(t,i,r,o){if(null===t[r.uiSelectSort])throw n("sort","Expected a list to sort");var a=angular.extend({axis:"horizontal"},t.$eval(r.uiSelectSortOptions)),l=a.axis,s="dragging",c="dropping",u="dropping-before",d="dropping-after";t.$watch(function(){return o.sortable},function(e){e?i.attr("draggable",!0):i.removeAttr("draggable")}),i.on("dragstart",function(e){i.addClass(s),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",t.$index)}),i.on("dragend",function(){i.removeClass(s)});var p,h=function(e,t){this.splice(t,0,this.splice(e,1)[0])},f=function(e){e.preventDefault();var t="vertical"===l?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===l?"offsetHeight":"offsetWidth"]/2?(i.removeClass(d),i.addClass(u)):(i.removeClass(u),i.addClass(d))},g=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text/plain"),10);e.cancel(p),p=e(function(){m(n)},20)},m=function(e){var n=t.$eval(r.uiSelectSort),o=n[e],a=null;a=i.hasClass(u)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,h.apply(n,[e,a]),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:o,from:e,to:a})}),i.removeClass(c),i.removeClass(u),i.removeClass(d),i.off("drop",g)};i.on("dragenter",function(){i.hasClass(s)||(i.addClass(c),i.on("dragover",f),i.on("drop",g))}),i.on("dragleave",function(e){e.target==i&&(i.removeClass(c),i.removeClass(u),i.removeClass(d),i.off("dragover",f),i.off("drop",g))})}}}]),n.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var i,r=/\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)/.test(n);if(i=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(([\w\.]+)?\s*(|\s*[\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!i)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);if(!i[6]&&r)throw e("iexp","Expected expression in form of '_item_ as (_key_, _item_) in _ObjCollection_ [ track by _id_]' but got '{0}'.",n);return{itemName:i[4]||i[2],keyName:i[3],source:t(i[3]?i[6]:i[5]),sourceName:i[6],filters:i[7],trackByExp:i[8],modelMapper:t(i[1]||i[4]||i[2]),repeatExpression:function(e){var t=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="false" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="false" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="false" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>'),e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="false" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="false" autocorrect="false" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>')}]),function(){angular.module("validation.rule",["validation"]).config(["$validationProvider",function(e){var t={required:function(e){return!!e},url:/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,email:/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,number:/^\d+$/,minlength:function(e,t,n,i,r){return e.length>=r},maxlength:function(e,t,n,i,r){return e.length<=r}},n={required:{error:"This should be Required!!",success:"It's Required"},url:{error:"This should be Url",success:"It's Url"},email:{error:"This should be Email",success:"It's Email"},number:{error:"This should be Number",success:"It's Number"},minlength:{error:"This should be longer",success:"Long enough!"},maxlength:{error:"This should be shorter",success:"Short enough!"}};e.setExpression(t).setDefaultMsg(n)}])}.call(this),function(){angular.module("validation",["validation.provider","validation.directive"]),angular.module("validation.provider",[]),angular.module("validation.directive",["validation.provider"])}.call(this),function(){function e(){var e,t,n,i,r,o=this,a=function(o){e=o,t=e.get("$rootScope"),n=e.get("$http"),i=e.get("$q"),r=e.get("$timeout")},l={},s={};this.setExpression=function(e){return angular.extend(l,e),o},this.getExpression=function(e){return l[e]},this.setDefaultMsg=function(e){return angular.extend(s,e),o},this.getDefaultMsg=function(e){return s[e]},this.setErrorHTML=function(e){return e.constructor===Function?(o.getErrorHTML=e,o):void 0},this.getErrorHTML=function(e){return'<p class="validation-invalid">'+e+"</p>"},this.setSuccessHTML=function(e){return e.constructor===Function?(o.getSuccessHTML=e,o):void 0},this.getSuccessHTML=function(e){return'<p class="validation-valid">'+e+"</p>"},this.showSuccessMessage=!0,this.showErrorMessage=!0,this.checkValid=function(e){return!(!e||!e.$valid)},this.validate=function(e){var n=i.defer(),a=0;if(void 0===e)return console.error("This is not a regular Form name scope"),n.reject("This is not a regular Form name scope"),n.promise;if(e.validationId)t.$broadcast(e.$name+"submit-"+e.validationId,a++);else if(e.constructor===Array)for(var l in e)t.$broadcast(e[l].$name+"submit-"+e[l].validationId,a++);else for(var s in e)"$"!==s[0]&&e[s].hasOwnProperty("$dirty")&&t.$broadcast(s+"submit-"+e[s].validationId,a++);return n.promise.success=function(e){return n.promise.then(function(t){e(t)}),n.promise},n.promise.error=function(e){return n.promise.then(null,function(t){e(t)}),n.promise},r(function(){o.checkValid(e)?n.resolve("success"):n.reject("error")}),n.promise},this.validCallback=null,this.invalidCallback=null,this.reset=function(e){if(void 0===e)return void console.error("This is not a regular Form name scope");if(e.validationId)t.$broadcast(e.$name+"reset-"+e.validationId);else if(e.constructor===Array)for(var n in e)t.$broadcast(e[n].$name+"reset-"+e[n].validationId);else for(var i in e)"$"!==i[0]&&e[i].hasOwnProperty("$dirty")&&t.$broadcast(i+"reset-"+e[i].validationId)},this.$get=["$injector",function(e){return a(e),{setErrorHTML:this.setErrorHTML,getErrorHTML:this.getErrorHTML,setSuccessHTML:this.setSuccessHTML,getSuccessHTML:this.getSuccessHTML,setExpression:this.setExpression,getExpression:this.getExpression,setDefaultMsg:this.setDefaultMsg,getDefaultMsg:this.getDefaultMsg,showSuccessMessage:this.showSuccessMessage,showErrorMessage:this.showErrorMessage,checkValid:this.checkValid,validate:this.validate,validCallback:this.validCallback,invalidCallback:this.invalidCallback,reset:this.reset}}]}angular.module("validation.provider").provider("$validation",e)}.call(this),function(){function e(e){var t=e.get("$validation"),n=e.get("$timeout"),i=e.get("$parse");return{link:function(e,r,o){var a=i(o.validationReset)(e);n(function(){r.on("click",function(e){e.preventDefault(),t.reset(a)})})}}}angular.module("validation.directive").directive("validationReset",e),e.$inject=["$injector"]}.call(this),function(){function e(e){var t=e.get("$validation"),n=e.get("$timeout"),i=e.get("$parse");return{priority:1,require:"?ngClick",link:function(e,r,o){var a=i(o.validationSubmit)(e);n(function(){r.off("click"),r.on("click",function(n){n.preventDefault(),t.validate(a).success(function(){i(o.ngClick)(e)})})})}}}angular.module("validation.directive").directive("validationSubmit",e),e.$inject=["$injector"]}.call(this),function(){function e(e){var t=e.get("$validation"),n=e.get("$q"),i=e.get("$timeout"),r=function(e,n,i,r,o){var a,l=n||t.getDefaultMsg(i).success;return a=r.messageId?angular.element(document.querySelector("#"+r.messageId)):e.next(),t.showSuccessMessage&&l&&a.html(t.getSuccessHTML(l)),o.$setValidity(o.$name,!0),r.validCallback&&r.validCallback({message:l}),t.validCallback&&t.validCallback(e),!0},o=function(e,n,i,r,o){var a,l=n||t.getDefaultMsg(i).error;return a=r.messageId?angular.element(document.querySelector("#"+r.messageId)):e.next(),t.showErrorMessage&&l&&a.html(t.getErrorHTML(l)),o.$setValidity(o.$name,!1),r.invalidCallback&&r.invalidCallback({message:l}),t.invalidCallback&&t.invalidCallback(e),!1},a={},l=function(e,i,a,s,c,u){var d=c.slice(0),p=d[0].trim(),h=p.indexOf("="),f=-1===h?p:p.substr(0,h),g=-1===h?null:p.substr(h+1),m=d.slice(1),v=f+"SuccessMessage",$=f+"ErrorMessage",b=t.getExpression(f),y={success:function(){return r(i,a[v],f,e,s),m.length?l(e,i,a,s,m,u):!0},error:function(){return o(i,a[$],f,e,s)}};return void 0===b?(console.error('You are using undefined validator "%s"',f),m.length?l(e,i,a,s,m,u):void 0):b.constructor===Function?n.all([t.getExpression(f)(u,e,i,a,g)]).then(function(e){return e&&e.length>0&&e[0]?y.success():y.error()},function(){return y.error()}):b.constructor===RegExp&&void 0!==u&&null!==u&&t.getExpression(f).test(u)?y.success():y.error()},s=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},c=function(){return s()+s()+s()+s()};return{restrict:"A",require:"ngModel",scope:{model:"=ngModel",initialValidity:"=initialValidity",validCallback:"&",invalidCallback:"&",messageId:"@"},link:function(e,t,n,r){var o,s=function(){},u=n.validator.split(","),d=r.validationId=c();return"boolean"==typeof e.initialValidity&&(o=e.initialValidity),
e.messageId||t.after("<span></span>"),r.$setValidity(r.$name,o),e.$on(r.$name+"reset-"+d,function(){s(),i(function(){r.$setViewValue(""),r.$setPristine(),r.$setValidity(r.$name,void 0),r.$render(),e.messageId?angular.element(document.querySelector("#"+e.messageId)).html(""):t.next().html("")})}),e.$on(r.$name+"submit-"+d,function(o,c){var d=r.$viewValue,p=!1;p=l(e,t,n,r,u,d),"submit"===n.validMethod&&(s(),s=e.$watch("model",function(i,o){i=r.$viewValue,i!==o&&((void 0===i||null===i)&&(i=""),p=l(e,t,n,r,u,i))}));var h=function(e){e?delete a[c]:(a[c]=t[0],i(function(){a[Math.min.apply(null,Object.keys(a))].focus()},0))};p.constructor===Object?p.then(h):h(p)}),"blur"===n.validMethod?void t.bind("blur",function(){var i=r.$viewValue;e.$apply(function(){l(e,t,n,r,u,i)})}):void("submit"!==n.validMethod&&"submit-only"!==n.validMethod&&(e.$watch("model",function(i){if(i=r.$viewValue,r.$pristine&&r.$viewValue)r.$setViewValue(r.$viewValue);else if(r.$pristine)return void(e.messageId?angular.element(document.querySelector("#"+e.messageId)).html(""):t.next().html(""));l(e,t,n,r,u,i)}),i(function(){n.$observe("noValidationMessage",function(n){var i;i=e.messageId?angular.element(document.querySelector("#"+e.messageId)):t.next(),"true"===n||n===!0?i.css("display","none"):("false"===n||n===!1)&&i.css("display","block")})})))}}}angular.module("validation.directive").directive("validator",e),e.$inject=["$injector"]}.call(this),angular.module("ui-notification",[]),angular.module("ui-notification").provider("Notification",function(){this.options={delay:5e3,startTop:10,startRight:10,verticalSpacing:10,horizontalSpacing:10,positionX:"right",positionY:"top",replaceMessage:!1,templateUrl:"angular-ui-notification.html"},this.setOptions=function(e){if(!angular.isObject(e))throw new Error("Options should be an object!");this.options=angular.extend({},this.options,e)},this.$get=["$timeout","$http","$compile","$templateCache","$rootScope","$injector","$sce","$q","$window",function(e,t,n,i,r,o,a,l,s){var c=this.options,u=c.startTop,d=c.startRight,p=c.verticalSpacing,h=c.horizontalSpacing,f=c.delay,g=[],m=!1,v=function(o,v){var $=l.defer();return"object"!=typeof o&&(o={message:o}),o.scope=o.scope?o.scope:r,o.template=o.templateUrl?o.templateUrl:c.templateUrl,o.delay=angular.isUndefined(o.delay)?f:o.delay,o.type=v?v:"",o.positionY=o.positionY?o.positionY:c.positionY,o.positionX=o.positionX?o.positionX:c.positionX,o.replaceMessage=o.replaceMessage?o.replaceMessage:c.replaceMessage,t.get(o.template,{cache:i}).success(function(t){var i=o.scope.$new();i.message=a.trustAsHtml(o.message),i.title=a.trustAsHtml(o.title),i.t=o.type.substr(0,1),i.delay=o.delay;var r=function(){for(var e=0,t=0,n=u,i=d,r=[],a=g.length-1;a>=0;a--){var l=g[a];if(o.replaceMessage&&a<g.length-1)l.addClass("killed");else{var s=parseInt(l[0].offsetHeight),c=parseInt(l[0].offsetWidth),f=r[l._positionY+l._positionX];m+s>window.innerHeight&&(f=u,t++,e=0);var m=n=f?0===e?f:f+p:u,v=i+t*(h+c);l.css(l._positionY,m+"px"),"center"==l._positionX?l.css("left",parseInt(window.innerWidth/2-c/2)+"px"):l.css(l._positionX,v+"px"),r[l._positionY+l._positionX]=m+s,e++}}},l=n(t)(i);l._positionY=o.positionY,l._positionX=o.positionX,l.addClass(o.type),l.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd click",function(e){e=e.originalEvent||e,("click"===e.type||"opacity"===e.propertyName&&e.elapsedTime>=1)&&(l.remove(),g.splice(g.indexOf(l),1),r())}),angular.isNumber(o.delay)&&e(function(){l.addClass("killed")},o.delay),angular.element(document.getElementsByTagName("body")).append(l);var c=-(parseInt(l[0].offsetHeight)+50);l.css(l._positionY,c+"px"),g.push(l),i._templateElement=l,i.kill=function(t){t?(g.splice(g.indexOf(i._templateElement),1),i._templateElement.remove(),e(r)):i._templateElement.addClass("killed")},e(r),m||(angular.element(s).bind("resize",function(){e(r)}),m=!0),$.resolve(i)}).error(function(e){throw new Error("Template ("+o.template+") could not be loaded. "+e)}),$.promise};return v.primary=function(e){return this(e,"primary")},v.error=function(e){return this(e,"error")},v.success=function(e){return this(e,"success")},v.info=function(e){return this(e,"info")},v.warning=function(e){return this(e,"warning")},v.clearAll=function(){angular.forEach(g,function(e){e.addClass("killed")})},v}]}),angular.module("ui-notification").run(["$templateCache",function(e){e.put("angular-ui-notification.html",'<div class="ui-notification"><h3 ng-show="title" ng-bind-html="title"></h3><div class="message" ng-bind-html="message"></div></div>')}]),function(){"use strict";angular.module("ui.tree",[]).constant("treeConfig",{treeClass:"angular-ui-tree",emptyTreeClass:"angular-ui-tree-empty",hiddenClass:"angular-ui-tree-hidden",nodesClass:"angular-ui-tree-nodes",nodeClass:"angular-ui-tree-node",handleClass:"angular-ui-tree-handle",placeholderClass:"angular-ui-tree-placeholder",dragClass:"angular-ui-tree-drag",dragThreshold:3,levelThreshold:30})}(),function(){"use strict";angular.module("ui.tree").controller("TreeHandleController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$nodeScope=null,e.$type="uiTreeHandle"}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodeController",["$scope","$element",function(e,t){function n(e){var t,i,r,o=0,a=e.childNodes();if(!a||0===a.length)return 0;for(r=a.length-1;r>=0;r--)t=a[r],i=1+n(t),o=Math.max(o,i);return o}this.scope=e,e.$element=t,e.$modelValue=null,e.$parentNodeScope=null,e.$childNodesScope=null,e.$parentNodesScope=null,e.$treeScope=null,e.$handleScope=null,e.$type="uiTreeNode",e.$$apply=!1,e.collapsed=!1,e.init=function(n){var i=n[0];e.$treeScope=n[1]?n[1].scope:null,e.$parentNodeScope=i.scope.$nodeScope,e.$modelValue=i.scope.$modelValue[e.$index],e.$parentNodesScope=i.scope,i.scope.initSubNode(e),t.on("$destroy",function(){i.scope.destroySubNode(e)})},e.index=function(){return e.$parentNodesScope.$modelValue.indexOf(e.$modelValue)},e.dragEnabled=function(){return!(e.$treeScope&&!e.$treeScope.dragEnabled)},e.isSibling=function(t){return e.$parentNodesScope==t.$parentNodesScope},e.isChild=function(t){var n=e.childNodes();return n&&n.indexOf(t)>-1},e.prev=function(){var t=e.index();return t>0?e.siblings()[t-1]:null},e.siblings=function(){return e.$parentNodesScope.childNodes()},e.childNodesCount=function(){return e.childNodes()?e.childNodes().length:0},e.hasChild=function(){return e.childNodesCount()>0},e.childNodes=function(){return e.$childNodesScope&&e.$childNodesScope.$modelValue?e.$childNodesScope.childNodes():null},e.accept=function(t,n){return e.$childNodesScope&&e.$childNodesScope.$modelValue&&e.$childNodesScope.accept(t,n)},e.removeNode=function(){var t=e.remove();return e.$callbacks.removed(t),t},e.remove=function(){return e.$parentNodesScope.removeNode(e)},e.toggle=function(){e.collapsed=!e.collapsed},e.collapse=function(){e.collapsed=!0},e.expand=function(){e.collapsed=!1},e.depth=function(){var t=e.$parentNodeScope;return t?t.depth()+1:1},e.maxSubDepth=function(){return e.$childNodesScope?n(e.$childNodesScope):0}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodesController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$modelValue=null,e.$nodeScope=null,e.$treeScope=null,e.$type="uiTreeNodes",e.$nodesMap={},e.nodropEnabled=!1,e.maxDepth=0,e.cloneEnabled=!1,e.initSubNode=function(t){return t.$modelValue?void(e.$nodesMap[t.$modelValue.$$hashKey]=t):null},e.destroySubNode=function(t){return t.$modelValue?void(e.$nodesMap[t.$modelValue.$$hashKey]=null):null},e.accept=function(t,n){return e.$treeScope.$callbacks.accept(t,e,n)},e.beforeDrag=function(t){return e.$treeScope.$callbacks.beforeDrag(t)},e.isParent=function(t){return t.$parentNodesScope==e},e.hasChild=function(){return e.$modelValue.length>0},e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},e.removeNode=function(t){var n=e.$modelValue.indexOf(t.$modelValue);return n>-1?(e.safeApply(function(){e.$modelValue.splice(n,1)[0]}),t):null},e.insertNode=function(t,n){e.safeApply(function(){e.$modelValue.splice(t,0,n)})},e.childNodes=function(){var t,n=[];if(e.$modelValue)for(t=0;t<e.$modelValue.length;t++)n.push(e.$nodesMap[e.$modelValue[t].$$hashKey]);return n},e.depth=function(){return e.$nodeScope?e.$nodeScope.depth():0},e.outOfDepth=function(t){var n=e.maxDepth||e.$treeScope.maxDepth;return n>0?e.depth()+t.maxSubDepth()+1>n:!1}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeController",["$scope","$element",function(e,t){this.scope=e,e.$element=t,e.$nodesScope=null,e.$type="uiTree",e.$emptyElm=null,e.$callbacks=null,e.dragEnabled=!0,e.emptyPlaceholderEnabled=!0,e.maxDepth=0,e.dragDelay=0,e.cloneEnabled=!1,e.nodropEnabled=!1,e.isEmpty=function(){return e.$nodesScope&&e.$nodesScope.$modelValue&&0===e.$nodesScope.$modelValue.length},e.place=function(t){e.$nodesScope.$element.append(t),e.$emptyElm.remove()},this.resetEmptyElement=function(){e.$nodesScope.$modelValue&&0!==e.$nodesScope.$modelValue.length||!e.emptyPlaceholderEnabled?e.$emptyElm.remove():t.append(e.$emptyElm)},e.resetEmptyElement=this.resetEmptyElement;var n=function(e,t){var i,r,o=e.childNodes();for(i=0;i<o.length;i++)t?o[i].collapse():o[i].expand(),r=o[i].$childNodesScope,r&&n(r,t)};e.collapseAll=function(){n(e.$nodesScope,!0)},e.expandAll=function(){n(e.$nodesScope,!1)}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTree",["treeConfig","$window",function(e,t){return{restrict:"A",scope:!0,controller:"TreeController",link:function(n,i,r,o){var a={accept:null,beforeDrag:null},l={};angular.extend(l,e),l.treeClass&&i.addClass(l.treeClass),n.$emptyElm=angular.element(t.document.createElement("div")),l.emptyTreeClass&&n.$emptyElm.addClass(l.emptyTreeClass),n.$watch("$nodesScope.$modelValue.length",function(e){angular.isNumber(e)&&o.resetEmptyElement()},!0),n.$watch(r.dragEnabled,function(e){"boolean"==typeof e&&(n.dragEnabled=e)}),n.$watch(r.emptyPlaceholderEnabled,function(e){"boolean"==typeof e&&(n.emptyPlaceholderEnabled=e,o.resetEmptyElement())}),n.$watch(r.nodropEnabled,function(e){"boolean"==typeof e&&(n.nodropEnabled=e)}),n.$watch(r.cloneEnabled,function(e){"boolean"==typeof e&&(n.cloneEnabled=e)}),n.$watch(r.maxDepth,function(e){"number"==typeof e&&(n.maxDepth=e)}),n.$watch(r.dragDelay,function(e){"number"==typeof e&&(n.dragDelay=e)}),a.accept=function(e,t,n){return!(t.nodropEnabled||t.outOfDepth(e))},a.beforeDrag=function(e){return!0},a.removed=function(e){},a.dropped=function(e){},a.dragStart=function(e){},a.dragMove=function(e){},a.dragStop=function(e){},a.beforeDrop=function(e){},n.$watch(r.uiTree,function(e,t){angular.forEach(e,function(e,t){a[t]&&"function"==typeof e&&(a[t]=e)}),n.$callbacks=a},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeHandle",["treeConfig",function(e){return{require:"^uiTreeNode",restrict:"A",scope:!0,controller:"TreeHandleController",link:function(t,n,i,r){var o={};angular.extend(o,e),o.handleClass&&n.addClass(o.handleClass),t!=r.scope&&(t.$nodeScope=r.scope,r.scope.$handleScope=t)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","UiTreeHelper","$window","$document","$timeout","$rootElement",function(e,t,n,i,r,o){return{require:["^uiTreeNodes","^uiTree"],restrict:"A",controller:"TreeNodeController",link:function(a,l,s,c){var u,d,p,h,f,g,m,v,$,b,y,S,x,w,E,C,k,T,M,A,L={},H="ontouchstart"in window,I=null,z=document.body,O=document.documentElement;angular.extend(L,e),L.nodeClass&&l.addClass(L.nodeClass),a.init(c),a.collapsed=!!t.getNodeAttribute(a,"collapsed"),a.sourceOnly=a.nodropEnabled||a.$treeScope.nodropEnabled,a.$watch(s.collapsed,function(e){"boolean"==typeof e&&(a.collapsed=e)}),a.$watch("collapsed",function(e){t.setNodeAttribute(a,"collapsed",e),s.$set("collapsed",e)}),b=function(e){if((H||2!=e.button&&3!=e.which)&&!(e.uiTreeDragging||e.originalEvent&&e.originalEvent.uiTreeDragging)){var r,s,c,b,y,S=angular.element(e.target),x=S.scope(),k=l.clone();if(x&&x.$type&&!("uiTreeNode"!=x.$type&&"uiTreeHandle"!=x.$type||"uiTreeNode"==x.$type&&x.$handleScope||(r=S.prop("tagName").toLowerCase(),"input"==r||"textarea"==r||"button"==r||"select"==r))){for(;S&&S[0]&&S[0]!=l;){if(t.nodrag(S))return;S=S.parent()}a.beforeDrag(a)&&(e.uiTreeDragging=!0,e.originalEvent&&(e.originalEvent.uiTreeDragging=!0),e.preventDefault(),c=t.eventObj(e),u=!0,d=t.dragInfo(a),s=a.$element.prop("tagName"),"tr"===s.toLowerCase()?(h=angular.element(n.document.createElement(s)),b=angular.element(n.document.createElement("td")).addClass(L.placeholderClass),h.append(b)):h=angular.element(n.document.createElement(s)).addClass(L.placeholderClass),f=angular.element(n.document.createElement(s)),L.hiddenClass&&f.addClass(L.hiddenClass),p=t.positionStarted(c,a.$element),h.css("height",t.height(a.$element)+"px"),h.css("width",t.width(a.$element)+"px"),g=angular.element(n.document.createElement(a.$parentNodesScope.$element.prop("tagName"))).addClass(a.$parentNodesScope.$element.attr("class")).addClass(L.dragClass),g.css("width",t.width(a.$element)+"px"),g.css("z-index",9999),y=(a.$element[0].querySelector(".angular-ui-tree-handle")||a.$element[0]).currentStyle,y&&(document.body.setAttribute("ui-tree-cursor",i.find("body").css("cursor")||""),i.find("body").css({cursor:y.cursor+"!important"})),a.sourceOnly&&h.css("display","none"),a.$element.after(h),a.$element.after(f),d.isClone()&&a.sourceOnly?g.append(k):g.append(a.$element),o.append(g),g.css({left:c.pageX-p.offsetX+"px",top:c.pageY-p.offsetY+"px"}),m={placeholder:h,dragging:g},a.$apply(function(){a.$treeScope.$callbacks.dragStart(d.eventArgs(m,p))}),angular.element(i).bind("touchend",E),angular.element(i).bind("touchcancel",E),angular.element(i).bind("touchmove",w),angular.element(i).bind("mouseup",E),angular.element(i).bind("mousemove",w),angular.element(i).bind("mouseleave",C),v=Math.max(z.scrollHeight,z.offsetHeight,O.clientHeight,O.scrollHeight,O.offsetHeight),$=Math.max(z.scrollWidth,z.offsetWidth,O.clientWidth,O.scrollWidth,O.offsetWidth))}}},y=function(e){var i,r,o,l,s,c,f,b,y,S,x,w,E,C,k,T,M=t.eventObj(e);if(g){if(e.preventDefault(),n.getSelection?n.getSelection().removeAllRanges():n.document.selection&&n.document.selection.empty(),o=M.pageX-p.offsetX,l=M.pageY-p.offsetY,0>o&&(o=0),0>l&&(l=0),l+10>v&&(l=v-10),o+10>$&&(o=$-10),g.css({left:o+"px",top:l+"px"}),s=window.pageYOffset||n.document.documentElement.scrollTop,c=s+(window.innerHeight||n.document.clientHeight||n.document.clientHeight),c<M.pageY&&v>=c&&window.scrollBy(0,10),s>M.pageY&&window.scrollBy(0,-10),t.positionMoved(e,p,u),u)return void(u=!1);if(b=t.offset(g).left-t.offset(h).left>=L.threshold,y=M.pageX-n.document.body.scrollLeft,S=M.pageY-(window.pageYOffset||n.document.documentElement.scrollTop),angular.isFunction(g.hide)?g.hide():(x=g[0].style.display,g[0].style.display="none"),n.document.elementFromPoint(y,S),E=angular.element(n.document.elementFromPoint(y,S)),angular.isFunction(g.show)?g.show():g[0].style.display=x,A=!E.scope().$type,A&&(h.remove(),I&&(I.resetEmptyElement(),I=null)),p.dirAx&&p.distAxX>=L.levelThreshold&&(p.distAxX=0,p.distX>0&&(i=d.prev(),i&&!i.collapsed&&i.accept(a,i.childNodesCount())&&(i.$childNodesScope.$element.append(h),d.moveTo(i.$childNodesScope,i.childNodes(),i.childNodesCount()))),p.distX<0&&(r=d.next(),r||(f=d.parentNode(),f&&f.$parentNodesScope.accept(a,f.index()+1)&&(f.$element.after(h),d.moveTo(f.$parentNodesScope,f.siblings(),f.index()+1))))),!p.dirAx){if(w=E.scope(),C=!1,!w)return;if(!w.$treeScope||w.$parent.nodropEnabled||w.$treeScope.nodropEnabled||h.css("display","block"),"uiTree"==w.$type&&w.dragEnabled&&(C=w.isEmpty()),"uiTreeHandle"==w.$type&&(w=w.$nodeScope),"uiTreeNode"!=w.$type&&!C)return;I&&h.parent()[0]!=I.$element[0]&&(I.resetEmptyElement(),I=null),C?(I=w,w.$nodesScope.accept(a,0)&&(w.place(h),d.moveTo(w.$nodesScope,w.$nodesScope.childNodes(),0))):w.dragEnabled()&&(E=w.$element,k=t.offset(E),T=w.horizontal?M.pageX<k.left+t.width(E)/2:M.pageY<k.top+t.height(E)/2,w.$parentNodesScope.accept(a,w.index())?T?(E[0].parentNode.insertBefore(h[0],E[0]),d.moveTo(w.$parentNodesScope,w.siblings(),w.index())):(E.after(h),d.moveTo(w.$parentNodesScope,w.siblings(),w.index()+1)):!T&&w.accept(a,w.childNodesCount())?(w.$childNodesScope.$element.append(h),d.moveTo(w.$childNodesScope,w.childNodes(),w.childNodesCount())):A=!0)}a.$apply(function(){a.$treeScope.$callbacks.dragMove(d.eventArgs(m,p))})}},S=function(e){e.preventDefault(),g&&(a.$treeScope.$apply(function(){a.$treeScope.$callbacks.beforeDrop(d.eventArgs(m,p))}),f.replaceWith(a.$element),h.remove(),g.remove(),g=null,a.$$apply&&!A?a.$treeScope.$apply(function(){d.apply(),a.$treeScope.$callbacks.dropped(d.eventArgs(m,p))}):T(),a.$treeScope.$apply(function(){a.$treeScope.$callbacks.dragStop(d.eventArgs(m,p))}),a.$$apply=!1,d=null);var t=document.body.getAttribute("ui-tree-cursor");null!==t&&(i.find("body").css({cursor:t}),document.body.removeAttribute("ui-tree-cursor")),angular.element(i).unbind("touchend",E),angular.element(i).unbind("touchcancel",E),angular.element(i).unbind("touchmove",w),angular.element(i).unbind("mouseup",E),angular.element(i).unbind("mousemove",w),angular.element(n.document.body).unbind("mouseleave",C)},x=function(e){a.dragEnabled()&&b(e)},w=function(e){y(e)},E=function(e){a.$$apply=!0,S(e)},C=function(e){S(e)},k=function(){var e;return{exec:function(t,n){n||(n=0),this.cancel(),e=r(t,n)},cancel:function(){r.cancel(e)}}}(),T=function(){l.bind("touchstart mousedown",function(e){k.exec(function(){x(e)},a.dragDelay||0)}),l.bind("touchend touchcancel mouseup",function(){k.cancel()})},T(),M=function(e){27==e.keyCode&&(a.$$apply=!1,S(e))},angular.element(n.document.body).bind("keydown",M),a.$on("$destroy",function(){angular.element(n.document.body).unbind("keydown",M)})}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNodes",["treeConfig","$window",function(e){return{require:["ngModel","?^uiTreeNode","^uiTree"],restrict:"A",scope:!0,controller:"TreeNodesController",link:function(t,n,i,r){var o={},a=r[0],l=r[1],s=r[2];angular.extend(o,e),o.nodesClass&&n.addClass(o.nodesClass),l?(l.scope.$childNodesScope=t,t.$nodeScope=l.scope):s.scope.$nodesScope=t,t.$treeScope=s.scope,a&&(a.$render=function(){t.$modelValue=a.$modelValue}),t.$watch(i.maxDepth,function(e){"number"==typeof e&&(t.maxDepth=e)}),t.$watch(function(){return i.nodropEnabled},function(e){"undefined"!=typeof e&&(t.nodropEnabled=!0)},!0),i.$observe("horizontal",function(e){t.horizontal="undefined"!=typeof e})}}}])}(),function(){"use strict";angular.module("ui.tree").factory("UiTreeHelper",["$document","$window",function(e,t){return{nodesData:{},setNodeAttribute:function(e,t,n){if(!e.$modelValue)return null;var i=this.nodesData[e.$modelValue.$$hashKey];i||(i={},this.nodesData[e.$modelValue.$$hashKey]=i),i[t]=n},getNodeAttribute:function(e,t){if(!e.$modelValue)return null;var n=this.nodesData[e.$modelValue.$$hashKey];return n?n[t]:null},nodrag:function(e){return"undefined"!=typeof e.attr("data-nodrag")?"false"!==e.attr("data-nodrag"):!1},eventObj:function(e){var t=e;return void 0!==e.targetTouches?t=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(t=e.originalEvent.targetTouches.item(0)),t},dragInfo:function(e){return{source:e,sourceInfo:{cloneModel:e.$treeScope.cloneEnabled===!0?angular.copy(e.$modelValue):void 0,nodeScope:e,index:e.index(),nodesScope:e.$parentNodesScope},index:e.index(),siblings:e.siblings().slice(0),parent:e.$parentNodesScope,moveTo:function(e,t,n){this.parent=e,this.siblings=t.slice(0);var i=this.siblings.indexOf(this.source);i>-1&&(this.siblings.splice(i,1),this.source.index()<n&&n--),this.siblings.splice(n,0,this.source),this.index=n},parentNode:function(){return this.parent.$nodeScope},prev:function(){return this.index>0?this.siblings[this.index-1]:null},next:function(){return this.index<this.siblings.length-1?this.siblings[this.index+1]:null},isClone:function(){return this.source.$treeScope.cloneEnabled===!0},clonedNode:function(e){return angular.copy(e)},isDirty:function(){return this.source.$parentNodesScope!=this.parent||this.source.index()!=this.index},isForeign:function(){return this.source.$treeScope!==this.parent.$treeScope},eventArgs:function(e,t){return{source:this.sourceInfo,dest:{index:this.index,nodesScope:this.parent},elements:e,pos:t}},apply:function(){var e=this.source.$modelValue;this.parent.nodropEnabled||this.parent.$treeScope.nodropEnabled||this.isDirty()&&(this.isClone()&&this.isForeign()?this.parent.insertNode(this.index,angular.copy(e)):(this.source.remove(),this.parent.insertNode(this.index,e)))}}},height:function(e){return e.prop("scrollHeight")},width:function(e){return e.prop("scrollWidth")},offset:function(n){var i=n[0].getBoundingClientRect();return{width:n.prop("offsetWidth"),height:n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].body.scrollTop||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].body.scrollLeft||e[0].documentElement.scrollLeft)}},positionStarted:function(e,t){var n={},i=e.pageX,r=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(i=e.originalEvent.touches[0].pageX,r=e.originalEvent.touches[0].pageY),n.offsetX=i-this.offset(t).left,n.offsetY=r-this.offset(t).top,n.startX=n.lastX=i,n.startY=n.lastY=r,n.nowX=n.nowY=n.distX=n.distY=n.dirAx=0,n.dirX=n.dirY=n.lastDirX=n.lastDirY=n.distAxX=n.distAxY=0,n},positionMoved:function(e,t,n){var i,r=e.pageX,o=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(r=e.originalEvent.touches[0].pageX,o=e.originalEvent.touches[0].pageY),t.lastX=t.nowX,t.lastY=t.nowY,t.nowX=r,t.nowY=o,t.distX=t.nowX-t.lastX,t.distY=t.nowY-t.lastY,t.lastDirX=t.dirX,t.lastDirY=t.dirY,t.dirX=0===t.distX?0:t.distX>0?1:-1,t.dirY=0===t.distY?0:t.distY>0?1:-1,i=Math.abs(t.distX)>Math.abs(t.distY)?1:0,n?(t.dirAx=i,void(t.moving=!0)):(t.dirAx!==i?(t.distAxX=0,t.distAxY=0):(t.distAxX+=Math.abs(t.distX),0!==t.dirX&&t.dirX!==t.lastDirX&&(t.distAxX=0),t.distAxY+=Math.abs(t.distY),0!==t.dirY&&t.dirY!==t.lastDirY&&(t.distAxY=0)),void(t.dirAx=i))}}}])}();var duScrollDefaultEasing=function(e){"use strict";return.5>e?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},duScroll=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");"undefined"!=typeof module&&module&&module.exports&&(module.exports=duScroll),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(e,t,n,i,r,o,a,l){"use strict";var s={},c=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},u=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},d=function(e){return u(e)||c(e)?e:e[0]};s.duScrollTo=function(t,n,i,r){var o;if(angular.isElement(t)?o=this.duScrollToElement:angular.isDefined(i)&&(o=this.duScrollToAnimated),o)return o.apply(this,arguments);var a=d(this);return c(a)?e.scrollTo(t,n):(a.scrollLeft=t,void(a.scrollTop=n))};var p,h;s.duScrollToAnimated=function(e,o,a,s){a&&!s&&(s=r);var c=this.duScrollLeft(),u=this.duScrollTop(),d=Math.round(e-c),f=Math.round(o-u),g=null,m=0,v=this,$=function(e){(!e||m&&e.which>0)&&(l&&v.unbind(l,$),n(p),h.reject(),p=null)};if(p&&$(),h=t.defer(),0===a||!d&&!f)return 0===a&&v.duScrollTo(e,o),h.resolve(),h.promise;var b=function(e){null===g&&(g=e),m=e-g;var t=m>=a?1:s(m/a);v.scrollTo(c+Math.ceil(d*t),u+Math.ceil(f*t)),1>t?p=i(b):(l&&v.unbind(l,$),p=null,h.resolve())};return v.duScrollTo(c,u),l&&v.bind(l,$),p=i(b),h.promise},s.duScrollToElement=function(e,t,n,i){var r=d(this);(!angular.isNumber(t)||isNaN(t))&&(t=a);var o=this.duScrollTop()+d(e).getBoundingClientRect().top-t;return u(r)&&(o-=r.getBoundingClientRect().top),this.duScrollTo(0,o,n,i)},s.duScrollLeft=function(t,n,i){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,i);var r=d(this);return c(r)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:r.scrollLeft},s.duScrollTop=function(t,n,i){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,i);var r=d(this);return c(r)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:r.scrollTop},s.duScrollToElementAnimated=function(e,t,n,i){return this.duScrollToElement(e,t,n||o,i)},s.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||o,n)},s.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||o,n)},angular.forEach(s,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,i){if(e[n])return e[n];for(var r,o=n.substr(0,1).toUpperCase()+n.substr(1),a=0;a<t.length;a++)if(r=t[a]+o,e[r])return e[r];return i}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=0,i=function(e,i){var r=(new Date).getTime(),o=Math.max(0,16-(r-n)),a=t(function(){e(r+o)},o);return n=r+o,a};return e("requestAnimationFrame",i)}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=function(e){t.cancel(e)};return e("cancelAnimationFrame",n)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollBottomSpy","duScrollActiveClass",function(e,t,n,i,r,o,a,l,s){"use strict";var c=function(r){var c=!1,u=!1,d=function(){u=!1;var t,a=r.container,c=a[0],d=0;if("undefined"!=typeof HTMLElement&&c instanceof HTMLElement||c.nodeType&&c.nodeType===c.ELEMENT_NODE)d=c.getBoundingClientRect().top,t=Math.round(c.scrollTop+c.clientHeight)>=c.scrollHeight;else{var p=i[0].body.scrollHeight||i[0].documentElement.scrollHeight;t=Math.round(n.pageYOffset+n.innerHeight)>=p}var h,f,g,m,v,$,b=l&&t?"bottom":"top";for(m=r.spies,f=r.currentlyActive,g=void 0,h=0;h<m.length;h++)v=m[h],$=v.getTargetPosition(),$&&(l&&t||$.top+v.offset-d<20&&(o||-1*$.top+d)<$.height)&&(!g||g[b]<$[b])&&(g={spy:v},g[b]=$[b]);g&&(g=g.spy),f===g||o&&!g||(f&&(f.$element.removeClass(s),e.$broadcast("duScrollspy:becameInactive",f.$element,angular.element(f.getTargetElement()))),g&&(g.$element.addClass(s),e.$broadcast("duScrollspy:becameActive",g.$element,angular.element(g.getTargetElement()))),r.currentlyActive=g)};return a?function(){c?u=!0:(d(),c=t(function(){c=!1,u&&d()},a,!1))}:d},u={},d=function(e){var t=e.$id,n={spies:[]};return n.handler=c(n),u[t]=n,e.$on("$destroy",function(){p(e)}),t},p=function(e){var t=e.$id,n=u[t],i=n.container;i&&i.off("scroll",n.handler),delete u[t]},h=d(e),f=function(e){return u[e.$id]?u[e.$id]:e.$parent?f(e.$parent):u[h]},g=function(e){var t,n,i=e.$scope;if(i)return f(i);for(n in u)if(t=u[n],-1!==t.spies.indexOf(e))return t},m=function(e){for(;e.parentNode;)if(e=e.parentNode,e===document)return!0;return!1},v=function(e){var t=g(e);t&&(t.spies.push(e),t.container&&m(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=r.getContainer(e.$scope),t.container.on("scroll",t.handler).triggerHandler("scroll")))},$=function(t){var n=g(t);t===n.currentlyActive&&(e.$broadcast("duScrollspy:becameInactive",n.currentlyActive.$element),n.currentlyActive=null);var i=n.spies.indexOf(t);-1!==i&&n.spies.splice(i,1),t.$element=null};return{addSpy:v,removeSpy:$,createContext:d,destroyContext:p,getContextForScope:f}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e,n){var i=e.$id;return t[i]=n,i},i=function(e){return t[e.$id]?e.$id:e.$parent?i(e.$parent):void 0},r=function(n){var r=i(n);return r?t[r]:e},o=function(e){var n=i(e);n&&delete t[n]};return{getContainerId:i,getContainer:r,setContainer:n,removeContainer:o}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){"use strict";return{link:function(i,r,o){r.on("click",function(r){if(o.href&&-1!==o.href.indexOf("#")||""!==o.duSmoothScroll){var a=o.href?o.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):o.duSmoothScroll,l=document.getElementById(a)||document.getElementsByName(a)[0];if(l&&l.getBoundingClientRect){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault();var s=o.offset?parseInt(o.offset,10):t,c=o.duration?parseInt(o.duration,10):e,u=n.getContainer(i);u.duScrollToElement(angular.element(l),isNaN(s)?0:s,isNaN(c)?0:c)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,i){return{pre:function(t,n,i,r){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,i){return{pre:function(t,n,i,r){i.$observe("duScrollContainer",function(i){angular.isString(i)&&(i=document.getElementById(i)),i=angular.isElement(i)?angular.element(i):n,e.setContainer(t,i),t.$on("$destroy",function(){e.removeContainer(t)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,i){"use strict";var r=function(e,t,n,i){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=i};return r.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},r.prototype.getTargetPosition=function(){var e=this.getTargetElement();return e?e.getBoundingClientRect():void 0},r.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(o,a,l){var s,c=l.ngHref||l.href;if(c&&-1!==c.indexOf("#")?s=c.replace(/.*(?=#[^\s]+$)/,"").substring(1):l.duScrollspy?s=l.duScrollspy:l.duSmoothScroll&&(s=l.duSmoothScroll),s){var u=n(function(){var n=new r(s,o,a,-(l.offset?parseInt(l.offset,10):t));e.addSpy(n),o.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var c=i.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));o.$on("$destroy",function(){e.removeSpy(n),c()})},0,!1);o.$on("$destroy",function(){n.cancel(u)})}}}}]);var XRegExp;if(XRegExp)throw Error("can't load XRegExp twice in the same frame");if(function(){function e(e,n){if(!XRegExp.isRegExp(e))throw TypeError("type RegExp expected");var i=e._xregexp;return e=XRegExp(e.source,t(e)+(n||"")),i&&(e._xregexp={source:i.source,captureNames:i.captureNames?i.captureNames.slice(0):null}),e}function t(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function n(e,t,n,i){var r,o,a,c=s.length;l=!0;try{for(;c--;)if(a=s[c],n&a.scope&&(!a.trigger||a.trigger.call(i))&&(a.pattern.lastIndex=t,o=a.pattern.exec(e),o&&o.index===t)){r={output:a.handler.call(i,o,n),match:o};break}}catch(u){throw u}finally{l=!1}return r}function i(e,t,n){
if(Array.prototype.indexOf)return e.indexOf(t,n);for(var i=n||0;i<e.length;i++)if(e[i]===t)return i;return-1}XRegExp=function(t,i){var r,a,s,u,d,p=[],h=XRegExp.OUTSIDE_CLASS,g=0;if(XRegExp.isRegExp(t)){if(void 0!==i)throw TypeError("can't supply flags when constructing one RegExp from another");return e(t)}if(l)throw Error("can't call the XRegExp constructor within token definition functions");for(i=i||"",r={hasNamedCapture:!1,captureNames:[],hasFlag:function(e){return i.indexOf(e)>-1},setFlag:function(e){i+=e}};g<t.length;)a=n(t,g,h,r),a?(p.push(a.output),g+=a.match[0].length||1):(s=c.exec.call(f[h],t.slice(g)))?(p.push(s[0]),g+=s[0].length):(u=t.charAt(g),"["===u?h=XRegExp.INSIDE_CLASS:"]"===u&&(h=XRegExp.OUTSIDE_CLASS),p.push(u),g++);return d=RegExp(p.join(""),c.replace.call(i,o,"")),d._xregexp={source:t,captureNames:r.hasNamedCapture?r.captureNames:null},d},XRegExp.version="1.5.0",XRegExp.INSIDE_CLASS=1,XRegExp.OUTSIDE_CLASS=2;var r=/\$(?:(\d\d?|[$&`'])|{([$\w]+)})/g,o=/[^gimy]+|([\s\S])(?=[\s\S]*\1)/g,a=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,l=!1,s=[],c={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},u=void 0===c.exec.call(/()??/,"")[1],d=function(){var e=/^/g;return c.test.call(e,""),!e.lastIndex}(),p=function(){var e=/x/g;return c.replace.call("x",e,""),!e.lastIndex}(),h=void 0!==RegExp.prototype.sticky,f={};f[XRegExp.INSIDE_CLASS]=/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/,f[XRegExp.OUTSIDE_CLASS]=/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/,XRegExp.addToken=function(t,n,i,r){s.push({pattern:e(t,"g"+(h?"y":"")),handler:n,scope:i||XRegExp.OUTSIDE_CLASS,trigger:r||null})},XRegExp.cache=function(e,t){var n=e+"/"+(t||"");return XRegExp.cache[n]||(XRegExp.cache[n]=XRegExp(e,t))},XRegExp.copyAsGlobal=function(t){return e(t,"g")},XRegExp.escape=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},XRegExp.execAt=function(t,n,i,r){n=e(n,"g"+(r&&h?"y":"")),n.lastIndex=i=i||0;var o=n.exec(t);return r?o&&o.index===i?o:null:o},XRegExp.freezeTokens=function(){XRegExp.addToken=function(){throw Error("can't run addToken after freezeTokens")}},XRegExp.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},XRegExp.iterate=function(t,n,i,r){for(var o,a=e(n,"g"),l=-1;o=a.exec(t);)i.call(r,o,++l,t,a),a.lastIndex===o.index&&a.lastIndex++;n.global&&(n.lastIndex=0)},XRegExp.matchChain=function(t,n){return function i(t,r){var o,a=n[r].regex?n[r]:{regex:n[r]},l=e(a.regex,"g"),s=[];for(o=0;o<t.length;o++)XRegExp.iterate(t[o],l,function(e){s.push(a.backref?e[a.backref]||"":e[0])});return r!==n.length-1&&s.length?i(s,r+1):s}([t],0)},RegExp.prototype.apply=function(e,t){return this.exec(t[0])},RegExp.prototype.call=function(e,t){return this.exec(t)},RegExp.prototype.exec=function(e){var n,r,o=c.exec.apply(this,arguments);if(o){if(!u&&o.length>1&&i(o,"")>-1&&(r=RegExp(this.source,c.replace.call(t(this),"g","")),c.replace.call(e.slice(o.index),r,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(o[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var a=1;a<o.length;a++)n=this._xregexp.captureNames[a-1],n&&(o[n]=o[a]);!d&&this.global&&!o[0].length&&this.lastIndex>o.index&&this.lastIndex--}return o},d||(RegExp.prototype.test=function(e){var t=c.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}),String.prototype.match=function(e){if(XRegExp.isRegExp(e)||(e=RegExp(e)),e.global){var t=c.match.apply(this,arguments);return e.lastIndex=0,t}return e.exec(this)},String.prototype.replace=function(e,t){var n,o,a,l=XRegExp.isRegExp(e);return l&&"string"==typeof t.valueOf()&&-1===t.indexOf("${")&&p?c.replace.apply(this,arguments):(l?e._xregexp&&(n=e._xregexp.captureNames):e+="","function"==typeof t?o=c.replace.call(this,e,function(){if(n){arguments[0]=new String(arguments[0]);for(var i=0;i<n.length;i++)n[i]&&(arguments[0][n[i]]=arguments[i+1])}return l&&e.global&&(e.lastIndex=arguments[arguments.length-2]+arguments[0].length),t.apply(null,arguments)}):(a=this+"",o=c.replace.call(a,e,function(){var e=arguments;return c.replace.call(t,r,function(t,r,o){if(!r){var a=+o;return a<=e.length-3?e[a]:(a=n?i(n,o):-1,a>-1?e[a+1]:t)}switch(r){case"$":return"$";case"&":return e[0];case"`":return e[e.length-1].slice(0,e[e.length-2]);case"'":return e[e.length-1].slice(e[e.length-2]+e[0].length);default:var l="";if(r=+r,!r)return t;for(;r>e.length-3;)l=String.prototype.slice.call(r,-1)+l,r=Math.floor(r/10);return(r?e[r]||"":"$")+l}})})),l&&e.global&&(e.lastIndex=0),o)},String.prototype.split=function(e,t){if(!XRegExp.isRegExp(e))return c.split.apply(this,arguments);var n,i,r=this+"",o=[],a=0;if(void 0===t||0>+t)t=1/0;else if(t=Math.floor(+t),!t)return[];for(e=XRegExp.copyAsGlobal(e);(n=e.exec(r))&&!(e.lastIndex>a&&(o.push(r.slice(a,n.index)),n.length>1&&n.index<r.length&&Array.prototype.push.apply(o,n.slice(1)),i=n[0].length,a=e.lastIndex,o.length>=t));)e.lastIndex===n.index&&e.lastIndex++;return a===r.length?(!c.test.call(e,"")||i)&&o.push(""):o.push(r.slice(a)),o.length>t?o.slice(0,t):o},XRegExp.addToken(/\(\?#[^)]*\)/,function(e){return c.test.call(a,e.input.slice(e.index+e[0].length))?"":"(?:)"}),XRegExp.addToken(/\((?!\?)/,function(){return this.captureNames.push(null),"("}),XRegExp.addToken(/\(\?<([$\w]+)>/,function(e){return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("}),XRegExp.addToken(/\\k<([\w$]+)>/,function(e){var t=i(this.captureNames,e[1]);return t>-1?"\\"+(t+1)+(isNaN(e.input.charAt(e.index+e[0].length))?"":"(?:)"):e[0]}),XRegExp.addToken(/\[\^?]/,function(e){return"[]"===e[0]?"\\b\\B":"[\\s\\S]"}),XRegExp.addToken(/^\(\?([imsx]+)\)/,function(e){return this.setFlag(e[1]),""}),XRegExp.addToken(/(?:\s+|#.*)+/,function(e){return c.test.call(a,e.input.slice(e.index+e[0].length))?"":"(?:)"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("x")}),XRegExp.addToken(/\./,function(){return"[\\s\\S]"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("s")})}(),"undefined"!=typeof exports?exports.XRegExp=XRegExp:null,"undefined"==typeof SyntaxHighlighter)var SyntaxHighlighter=function(){function e(e,t){return-1!=e.className.indexOf(t)}function t(t,n){e(t,n)||(t.className+=" "+n)}function n(e,t){e.className=e.className.replace(t,"")}function i(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function r(e){return e.split("\n")}function o(e){var t="highlighter_";return 0==e.indexOf(t)?e:t+e}function a(e){return N.vars.highlighters[o(e)]}function l(e){return document.getElementById(o(e))}function s(e){N.vars.highlighters[o(e.id)]=e}function c(e,t,n){if(null==e)return null;var i,r,o=1!=n?e.childNodes:[e.parentNode],a={"#":"id",".":"className"}[t.substr(0,1)]||"nodeName";if(i="nodeName"!=a?t.substr(1):t.toUpperCase(),-1!=(e[a]||"").indexOf(i))return e;for(var l=0;o&&l<o.length&&null==r;l++)r=c(o[l],t,n);return r}function u(e,t){return c(e,t,!0)}function d(e,t,n){n=Math.max(n||0,0);for(var i=n;i<e.length;i++)if(e[i]==t)return i;return-1}function p(e){return(e||"")+Math.round(1e6*Math.random()).toString()}function h(e,t){var n,i={};for(n in e)i[n]=e[n];for(n in t)i[n]=t[n];return i}function f(e){var t={"true":!0,"false":!1}[e];return null==t?e:t}function g(e,t,n,i,r){var o=(screen.width-n)/2,a=(screen.height-i)/2;r+=", left="+o+", top="+a+", width="+n+", height="+i,r=r.replace(/^,/,"");var l=window.open(e,t,r);return l.focus(),l}function m(e,t,n,i){function r(e){e=e||window.event,e.target||(e.target=e.srcElement,e.preventDefault=function(){this.returnValue=!1}),n.call(i||window,e)}e.attachEvent?e.attachEvent("on"+t,r):e.addEventListener(t,r,!1)}function v(e){window.alert(N.config.strings.alert+e)}function $(e,t){var n=N.vars.discoveredBrushes,i=null;if(null==n){n={};for(var r in N.brushes){var o=N.brushes[r],a=o.aliases;if(null!=a){o.brushName=r.toLowerCase();for(var l=0;l<a.length;l++)n[a[l]]=r}}N.vars.discoveredBrushes=n}return i=N.brushes[n[e]],null==i&&0!=t&&v(N.config.strings.noBrush+e),i}function b(e,t){for(var n=r(e),i=0;i<n.length;i++)n[i]=t(n[i],i);return n.join("\n")}function y(e){return e.replace(/^[ ]*[\n]+|[\n]*[ ]*$/g,"")}function S(e){for(var t,n={},i=new XRegExp("^\\[(?<values>(.*?))\\]$"),r=new XRegExp("(?<name>[\\w-]+)\\s*:\\s*(?<value>[\\w-%#]+|\\[.*?\\]|\".*?\"|'.*?')\\s*;?","g");null!=(t=r.exec(e));){var o=t.value.replace(/^['"]|['"]$/g,"");if(null!=o&&i.test(o)){var a=i.exec(o);o=a.values.length>0?a.values.split(/\s*,\s*/):[]}n[t.name]=o}return n}function x(e,t){return null==e||0==e.length||"\n"==e?e:(e=e.replace(/</g,"&lt;"),e=e.replace(/ {2,}/g,function(e){for(var t="",n=0;n<e.length-1;n++)t+=N.config.space;return t+" "}),null!=t&&(e=b(e,function(e){if(0==e.length)return"";var n="";return e=e.replace(/^(&nbsp;| )+/,function(e){return n=e,""}),0==e.length?n:n+'<code class="'+t+'">'+e+"</code>"})),e)}function w(e,t){for(var n=e.toString();n.length<t;)n="0"+n;return n}function E(e,t){for(var n="",i=0;t>i;i++)n+=" ";return e.replace(/\t/g,n)}function C(e,t){function n(e,t,n){return e.substr(0,t)+o.substr(0,n)+e.substr(t+1,e.length)}for(var i=(r(e),"	"),o="",a=0;50>a;a++)o+="                    ";return e=b(e,function(e){if(-1==e.indexOf(i))return e;for(var r=0;-1!=(r=e.indexOf(i));){var o=t-r%t;e=n(e,r,o)}return e})}function k(e){var t=/<br\s*\/?>|&lt;br\s*\/?&gt;/gi;return 1==N.config.bloggerMode&&(e=e.replace(t,"\n")),1==N.config.stripBrs&&(e=e.replace(t,"")),e}function T(e){return e.replace(/^\s+|\s+$/g,"")}function M(e){for(var t=r(k(e)),n=(new Array,/^\s*/),i=1e3,o=0;o<t.length&&i>0;o++){var a=t[o];if(0!=T(a).length){var l=n.exec(a);if(null==l)return e;i=Math.min(l[0].length,i)}}if(i>0)for(var o=0;o<t.length;o++)t[o]=t[o].substr(i);return t.join("\n")}function A(e,t){return e.index<t.index?-1:e.index>t.index?1:e.length<t.length?-1:e.length>t.length?1:0}function L(e,t){function n(e,t){return e[0]}for(var i=null,r=[],o=t.func?t.func:n;null!=(i=t.regex.exec(e));){var a=o(i,t);"string"==typeof a&&(a=[new N.Match(a,i.index,t.css)]),r=r.concat(a)}return r}function H(e){var t=/(.*)((&gt;|&lt;).*)/;return e.replace(N.regexLib.url,function(e){var n="",i=null;return(i=t.exec(e))&&(e=i[1],n=i[2]),'<a href="'+e+'">'+e+"</a>"+n})}function I(){for(var e=document.getElementsByTagName("script"),t=[],n=0;n<e.length;n++)"syntaxhighlighter"==e[n].type&&t.push(e[n]);return t}function z(e){var t="<![CDATA[",n="]]>",i=T(e),r=!1,o=t.length,a=n.length;0==i.indexOf(t)&&(i=i.substring(o),r=!0);var l=i.length;return i.indexOf(n)==l-a&&(i=i.substring(0,l-a),r=!0),r?i:e}function O(e){var i,r=e.target,o=u(r,".syntaxhighlighter"),l=u(r,".container"),s=document.createElement("textarea");if(l&&o&&!c(l,"textarea")){i=a(o.id),t(o,"source");for(var d=l.childNodes,p=[],h=0;h<d.length;h++)p.push(d[h].innerText||d[h].textContent);p=p.join("\r"),s.appendChild(document.createTextNode(p)),l.appendChild(s),s.focus(),s.select(),m(s,"blur",function(e){s.parentNode.removeChild(s),n(o,"source")})}}"undefined"!=typeof require&&"undefined"==typeof XRegExp&&(XRegExp=require("XRegExp").XRegExp);var N={defaults:{"class-name":"","first-line":1,"pad-line-numbers":!1,highlight:null,title:null,"smart-tabs":!0,"tab-size":4,gutter:!0,toolbar:!0,"quick-code":!0,collapse:!1,"auto-links":!0,light:!1,"html-script":!1},config:{space:"&nbsp;",useScriptTags:!0,bloggerMode:!1,stripBrs:!1,tagName:"pre",strings:{expandSource:"expand source",help:"?",alert:"SyntaxHighlighter\n\n",noBrush:"Can't find brush for: ",brushNotHtmlScript:"Brush wasn't configured for html-script option: ",aboutDialog:"@ABOUT@"}},vars:{discoveredBrushes:null,highlighters:{}},brushes:{},regexLib:{multiLineCComments:/\/\*[\s\S]*?\*\//gm,singleLineCComments:/\/\/.*$/gm,singleLinePerlComments:/#.*$/gm,doubleQuotedString:/"([^\\"\n]|\\.)*"/g,singleQuotedString:/'([^\\'\n]|\\.)*'/g,multiLineDoubleQuotedString:new XRegExp('"([^\\\\"]|\\\\.)*"',"gs"),multiLineSingleQuotedString:new XRegExp("'([^\\\\']|\\\\.)*'","gs"),xmlComments:/(&lt;|<)!--[\s\S]*?--(&gt;|>)/gm,url:/\w+:\/\/[\w-.\/?%&=:@;]*/g,phpScriptTags:{left:/(&lt;|<)\?=?/g,right:/\?(&gt;|>)/g},aspScriptTags:{left:/(&lt;|<)%=?/g,right:/%(&gt;|>)/g},scriptScriptTags:{left:/(&lt;|<)\s*script.*?(&gt;|>)/gi,right:/(&lt;|<)\/\s*script\s*(&gt;|>)/gi}},toolbar:{getHtml:function(e){function t(e,t){return N.toolbar.getButtonHtml(e,t,N.config.strings[t])}for(var n='<div class="toolbar">',i=N.toolbar.items,r=i.list,o=0;o<r.length;o++)n+=(i[r[o]].getHtml||t)(e,r[o]);return n+="</div>"},getButtonHtml:function(e,t,n){return'<span><a href="#" class="toolbar_item command_'+t+" "+t+'">'+n+"</a></span>"},handler:function(e){function t(e){var t=new RegExp(e+"_(\\w+)"),n=t.exec(i);return n?n[1]:null}var n=e.target,i=n.className||"",r=a(u(n,".syntaxhighlighter").id),o=t("command");r&&o&&N.toolbar.items[o].execute(r),e.preventDefault()},items:{list:["expandSource","help"],expandSource:{getHtml:function(e){if(1!=e.getParam("collapse"))return"";var t=e.getParam("title");return N.toolbar.getButtonHtml(e,"expandSource",t?t:N.config.strings.expandSource)},execute:function(e){var t=l(e.id);n(t,"collapsed")}},help:{execute:function(e){var t=g("","_blank",500,250,"scrollbars=0"),n=t.document;n.write(N.config.strings.aboutDialog),n.close(),t.focus()}}}},findElements:function(e,t){var n=t?[t]:i(document.getElementsByTagName(N.config.tagName)),r=N.config,o=[];if(r.useScriptTags&&(n=n.concat(I())),0===n.length)return o;for(var a=0;a<n.length;a++){var l={target:n[a],params:h(e,S(n[a].className))};null!=l.params.brush&&o.push(l)}return o},highlight:function(e,t){var n=this.findElements(e,t),i="innerHTML",r=null,o=N.config;if(0!==n.length)for(var a=0;a<n.length;a++){var l,t=n[a],s=t.target,c=t.params,u=c.brush;if(null!=u){if("true"==c["html-script"]||1==N.defaults["html-script"])r=new N.HtmlScript(u),u="htmlscript";else{var d=$(u);if(!d)continue;r=new d}l=s[i],o.useScriptTags&&(l=z(l)),""!=(s.title||"")&&(c.title=s.title),c.brush=u,r.init(c),t=r.getDiv(l),""!=(s.id||"")&&(t.id=s.id),s.parentNode.replaceChild(t,s)}}},all:function(e){m(window,"load",function(){N.highlight(e)})}};return N.Match=function(e,t,n){this.value=e,this.index=t,this.length=e.length,this.css=n,this.brushName=null},N.Match.prototype.toString=function(){return this.value},N.HtmlScript=function(e){function t(e,t){for(var n=0;n<e.length;n++)e[n].index+=t}function n(e,n){for(var o,a=e.code,l=[],s=i.regexList,c=e.index+e.left.length,u=i.htmlScript,d=0;d<s.length;d++)o=L(a,s[d]),t(o,c),l=l.concat(o);null!=u.left&&null!=e.left&&(o=L(e.left,u.left),t(o,e.index),l=l.concat(o)),null!=u.right&&null!=e.right&&(o=L(e.right,u.right),t(o,e.index+e[0].lastIndexOf(e.right)),l=l.concat(o));for(var p=0;p<l.length;p++)l[p].brushName=r.brushName;return l}var i,r=$(e),o=new N.brushes.Xml,a=this,l="getDiv getHtml init".split(" ");if(null!=r){i=new r;for(var s=0;s<l.length;s++)(function(){var e=l[s];a[e]=function(){return o[e].apply(o,arguments)}})();return null==i.htmlScript?void v(N.config.strings.brushNotHtmlScript+e):void o.regexList.push({regex:i.htmlScript.code,func:n})}},N.Highlighter=function(){},N.Highlighter.prototype={getParam:function(e,t){var n=this.params[e];return f(null==n?t:n)},create:function(e){return document.createElement(e)},findMatches:function(e,t){var n=[];if(null!=e)for(var i=0;i<e.length;i++)"object"==typeof e[i]&&(n=n.concat(L(t,e[i])));return this.removeNestedMatches(n.sort(A))},removeNestedMatches:function(e){for(var t=0;t<e.length;t++)if(null!==e[t])for(var n=e[t],i=n.index+n.length,r=t+1;r<e.length&&null!==e[t];r++){var o=e[r];if(null!==o){if(o.index>i)break;o.index==n.index&&o.length>n.length?e[t]=null:o.index>=n.index&&o.index<i&&(e[r]=null)}}return e},figureOutLineNumbers:function(e){var t=[],n=parseInt(this.getParam("first-line"));return b(e,function(e,i){t.push(i+n)}),t},isLineHighlighted:function(e){var t=this.getParam("highlight",[]);return"object"!=typeof t&&null==t.push&&(t=[t]),-1!=d(t,e.toString())},getLineHtml:function(e,t,n){var i=["line","number"+t,"index"+e,"alt"+(t%2==0?1:2).toString()];return this.isLineHighlighted(t)&&i.push("highlighted"),0==t&&i.push("break"),'<div class="'+i.join(" ")+'">'+n+"</div>"},getLineNumbersHtml:function(e,t){var n="",i=r(e).length,o=parseInt(this.getParam("first-line")),a=this.getParam("pad-line-numbers");1==a?a=(o+i-1).toString().length:1==isNaN(a)&&(a=0);for(var l=0;i>l;l++){var s=t?t[l]:o+l,e=0==s?N.config.space:w(s,a);n+=this.getLineHtml(l,s,e)}return n},getCodeLinesHtml:function(e,t){e=T(e);for(var n=r(e),i=(this.getParam("pad-line-numbers"),parseInt(this.getParam("first-line"))),e="",o=this.getParam("brush"),a=0;a<n.length;a++){var l=n[a],s=/^(&nbsp;|\s)+/.exec(l),c=null,u=t?t[a]:i+a;null!=s&&(c=s[0].toString(),l=l.substr(c.length),c=c.replace(" ",N.config.space)),l=T(l),0==l.length&&(l=N.config.space),e+=this.getLineHtml(a,u,(null!=c?'<code class="'+o+' spaces">'+c+"</code>":"")+l)}return e},getTitleHtml:function(e){return e?"<caption>"+e+"</caption>":""},getMatchesHtml:function(e,t){function n(e){var t=e?e.brushName||o:o;return t?t+" ":""}for(var i=0,r="",o=this.getParam("brush",""),a=0;a<t.length;a++){var l,s=t[a];null!==s&&0!==s.length&&(l=n(s),r+=x(e.substr(i,s.index-i),l+"plain")+x(s.value,l+s.css),i=s.index+s.length+(s.offset||0))}return r+=x(e.substr(i),n()+"plain")},getHtml:function(e){var t,n,i,r="",a=["syntaxhighlighter"];return 1==this.getParam("light")&&(this.params.toolbar=this.params.gutter=!1),className="syntaxhighlighter",1==this.getParam("collapse")&&a.push("collapsed"),0==(gutter=this.getParam("gutter"))&&a.push("nogutter"),a.push(this.getParam("class-name")),a.push(this.getParam("brush")),e=y(e).replace(/\r/g," "),t=this.getParam("tab-size"),e=1==this.getParam("smart-tabs")?C(e,t):E(e,t),e=M(e),gutter&&(i=this.figureOutLineNumbers(e)),n=this.findMatches(this.regexList,e),r=this.getMatchesHtml(e,n),r=this.getCodeLinesHtml(r,i),this.getParam("auto-links")&&(r=H(r)),"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.match(/MSIE/)&&a.push("ie"),r='<div id="'+o(this.id)+'" class="'+a.join(" ")+'">'+(this.getParam("toolbar")?N.toolbar.getHtml(this):"")+'<table border="0" cellpadding="0" cellspacing="0">'+this.getTitleHtml(this.getParam("title"))+"<tbody><tr>"+(gutter?'<td class="gutter">'+this.getLineNumbersHtml(e)+"</td>":"")+'<td class="code"><div class="container">'+r+"</div></td></tr></tbody></table></div>"},getDiv:function(e){null===e&&(e=""),this.code=e;var t=this.create("div");return t.innerHTML=this.getHtml(e),this.getParam("toolbar")&&m(c(t,".toolbar"),"click",N.toolbar.handler),this.getParam("quick-code")&&m(c(t,".code"),"dblclick",O),t},init:function(e){this.id=p(),s(this),this.params=h(N.defaults,e||{}),1==this.getParam("light")&&(this.params.toolbar=this.params.gutter=!1)},getKeywords:function(e){return e=e.replace(/^\s+|\s+$/g,"").replace(/\s+/g,"|"),"\\b(?:"+e+")\\b"},forHtmlScript:function(e){this.htmlScript={left:{regex:e.left,css:"script"},right:{regex:e.right,css:"script"},code:new XRegExp("(?<left>"+e.left.source+")(?<code>.*?)(?<right>"+e.right.source+")","sgi")}}},N}();"undefined"!=typeof exports?exports.SyntaxHighlighter=SyntaxHighlighter:null,function(){function e(){function e(e,t){var n=SyntaxHighlighter.Match,i=e[0],r=new XRegExp("(&lt;|<)[\\s\\/\\?]*(?<name>[:\\w-\\.]+)","xg").exec(i),o=[];if(null!=e.attributes)for(var a,l=new XRegExp("(?<name> [\\w:\\-\\.]+)\\s*=\\s*(?<value> \".*?\"|'.*?'|\\w+)","xg");null!=(a=l.exec(i));)o.push(new n(a.name,e.index+a.index,"color1")),o.push(new n(a.value,e.index+a.index+a[0].indexOf(a.value),"string"));return null!=r&&o.push(new n(r.name,e.index+r[0].indexOf(r.name),"keyword")),o}this.regexList=[{regex:new XRegExp("(\\&lt;|<)\\!\\[[\\w\\s]*?\\[(.|\\s)*?\\]\\](\\&gt;|>)","gm"),css:"color2"},{regex:SyntaxHighlighter.regexLib.xmlComments,css:"comments"},{regex:new XRegExp("(&lt;|<)[\\s\\/\\?]*(\\w+)(?<attributes>.*?)[\\s\\/\\?]*(&gt;|>)","sg"),func:e}]}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,e.prototype=new SyntaxHighlighter.Highlighter,e.aliases=["xml","xhtml","xslt","html"],SyntaxHighlighter.brushes.Xml=e,"undefined"!=typeof exports?exports.Brush=e:null}(),function(){function e(){var e="break case catch continue default delete do else false  for function if in instanceof new null return super switch this throw true try typeof var while with",t=SyntaxHighlighter.regexLib;this.regexList=[{regex:t.multiLineDoubleQuotedString,css:"string"},{regex:t.multiLineSingleQuotedString,css:"string"},{regex:t.singleLineCComments,css:"comments"},{regex:t.multiLineCComments,css:"comments"},{regex:/\s*#.*/gm,css:"preprocessor"},{regex:new RegExp(this.getKeywords(e),"gm"),css:"keyword"}],this.forHtmlScript(t.scriptScriptTags)}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,e.prototype=new SyntaxHighlighter.Highlighter,e.aliases=["js","jscript","javascript"],SyntaxHighlighter.brushes.JScript=e,"undefined"!=typeof exports?exports.Brush=e:null}(),function(){function e(){function e(e){return"\\b([a-z_]|)"+e.replace(/ /g,"(?=:)\\b|\\b([a-z_\\*]|\\*|)")+"(?=:)\\b"}function t(e){return"\\b"+e.replace(/ /g,"(?!-)(?!:)\\b|\\b()")+":\\b"}var n="ascent azimuth background-attachment background-color background-image background-position background-repeat background baseline bbox border-collapse border-color border-spacing border-style border-top border-right border-bottom border-left border-top-color border-right-color border-bottom-color border-left-color border-top-style border-right-style border-bottom-style border-left-style border-top-width border-right-width border-bottom-width border-left-width border-width border bottom cap-height caption-side centerline clear clip color content counter-increment counter-reset cue-after cue-before cue cursor definition-src descent direction display elevation empty-cells float font-size-adjust font-family font-size font-stretch font-style font-variant font-weight font height left letter-spacing line-height list-style-image list-style-position list-style-type list-style margin-top margin-right margin-bottom margin-left margin marker-offset marks mathline max-height max-width min-height min-width orphans outline-color outline-style outline-width outline overflow padding-top padding-right padding-bottom padding-left padding page page-break-after page-break-before page-break-inside pause pause-after pause-before pitch pitch-range play-during position quotes right richness size slope src speak-header speak-numeral speak-punctuation speak speech-rate stemh stemv stress table-layout text-align top text-decoration text-indent text-shadow text-transform unicode-bidi unicode-range units-per-em vertical-align visibility voice-family volume white-space widows width widths word-spacing x-height z-index",i="above absolute all always aqua armenian attr aural auto avoid baseline behind below bidi-override black blink block blue bold bolder both bottom braille capitalize caption center center-left center-right circle close-quote code collapse compact condensed continuous counter counters crop cross crosshair cursive dashed decimal decimal-leading-zero default digits disc dotted double embed embossed e-resize expanded extra-condensed extra-expanded fantasy far-left far-right fast faster fixed format fuchsia gray green groove handheld hebrew help hidden hide high higher icon inline-table inline inset inside invert italic justify landscape large larger left-side left leftwards level lighter lime line-through list-item local loud lower-alpha lowercase lower-greek lower-latin lower-roman lower low ltr marker maroon medium message-box middle mix move narrower navy ne-resize no-close-quote none no-open-quote no-repeat normal nowrap n-resize nw-resize oblique olive once open-quote outset outside overline pointer portrait pre print projection purple red relative repeat repeat-x repeat-y rgb ridge right right-side rightwards rtl run-in screen scroll semi-condensed semi-expanded separate se-resize show silent silver slower slow small small-caps small-caption smaller soft solid speech spell-out square s-resize static status-bar sub super sw-resize table-caption table-cell table-column table-column-group table-footer-group table-header-group table-row table-row-group teal text-bottom text-top thick thin top transparent tty tv ultra-condensed ultra-expanded underline upper-alpha uppercase upper-latin upper-roman url visible wait white wider w-resize x-fast x-high x-large x-loud x-low x-slow x-small x-soft xx-large xx-small yellow",r="[mM]onospace [tT]ahoma [vV]erdana [aA]rial [hH]elvetica [sS]ans-serif [sS]erif [cC]ourier mono sans serif";this.regexList=[{regex:SyntaxHighlighter.regexLib.multiLineCComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\#[a-fA-F0-9]{3,6}/g,css:"value"},{regex:/(-?\d+)(\.\d+)?(px|em|pt|\:|\%|)/g,css:"value"},{regex:/!important/g,css:"color3"},{regex:new RegExp(e(n),"gm"),css:"keyword"},{regex:new RegExp(t(i),"g"),css:"value"},{regex:new RegExp(this.getKeywords(r),"g"),css:"color1"}],this.forHtmlScript({left:/(&lt;|<)\s*style.*?(&gt;|>)/gi,right:/(&lt;|<)\/\s*style\s*(&gt;|>)/gi})}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,e.prototype=new SyntaxHighlighter.Highlighter,e.aliases=["css"],SyntaxHighlighter.brushes.CSS=e,"undefined"!=typeof exports?exports.Brush=e:null}(),function(){function e(){var e="abstract assert boolean break byte case catch char class const continue default do double else enum extends false final finally float for goto if implements import instanceof int interface long native new null package private protected public return short static strictfp super switch synchronized this throw throws true transient try void volatile while";this.regexList=[{regex:SyntaxHighlighter.regexLib.singleLineCComments,css:"comments"},{regex:/\/\*([^\*][\s\S]*)?\*\//gm,css:"comments"},{regex:/\/\*(?!\*\/)\*[\s\S]*?\*\//gm,css:"preprocessor"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:/\b([\d]+(\.[\d]+)?|0x[a-f0-9]+)\b/gi,css:"value"},{regex:/(?!\@interface\b)\@[\$\w]+\b/g,css:"color1"},{regex:/\@interface\b/g,css:"color2"},{regex:new RegExp(this.getKeywords(e),"gm"),css:"keyword"}],this.forHtmlScript({left:/(&lt;|<)%[@!=]?/g,right:/%(&gt;|>)/g})}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,e.prototype=new SyntaxHighlighter.Highlighter,e.aliases=["java"],SyntaxHighlighter.brushes.Java=e,"undefined"!=typeof exports?exports.Brush=e:null}(),function(){function e(){var e="if fi then elif else for do done until while break continue case function return in eq ne ge le",t="alias apropos awk basename bash bc bg builtin bzip2 cal cat cd cfdisk chgrp chmod chown chrootcksum clear cmp comm command cp cron crontab csplit cut date dc dd ddrescue declare df diff diff3 dig dir dircolors dirname dirs du echo egrep eject enable env ethtool eval exec exit expand export expr false fdformat fdisk fg fgrep file find fmt fold format free fsck ftp gawk getopts grep groups gzip hash head history hostname id ifconfig import install join kill less let ln local locate logname logout look lpc lpr lprint lprintd lprintq lprm ls lsof make man mkdir mkfifo mkisofs mknod more mount mtools mv netstat nice nl nohup nslookup open op passwd paste pathchk ping popd pr printcap printenv printf ps pushd pwd quota quotacheck quotactl ram rcp read readonly renice remsync rm rmdir rsync screen scp sdiff sed select seq set sftp shift shopt shutdown sleep sort source split ssh strace su sudo sum symlink sync tail tar tee test time times touch top traceroute trap tr true tsort tty type ulimit umask umount unalias uname unexpand uniq units unset unshar useradd usermod users uuencode uudecode v vdir vi watch wc whereis which who whoami Wget xargs yes";this.regexList=[{regex:/^#!.*$/gm,css:"preprocessor bold"},{regex:/\/[\w-\/]+/gm,css:"plain"},{regex:SyntaxHighlighter.regexLib.singleLinePerlComments,css:"comments"},{regex:SyntaxHighlighter.regexLib.doubleQuotedString,css:"string"},{regex:SyntaxHighlighter.regexLib.singleQuotedString,css:"string"},{regex:new RegExp(this.getKeywords(e),"gm"),css:"keyword"},{regex:new RegExp(this.getKeywords(t),"gm"),css:"functions"}]}"undefined"!=typeof require?SyntaxHighlighter=require("shCore").SyntaxHighlighter:null,e.prototype=new SyntaxHighlighter.Highlighter,e.aliases=["bash","shell"],SyntaxHighlighter.brushes.Bash=e,"undefined"!=typeof exports?exports.Brush=e:null}(),function(){"use strict";angular.module("pasp.ui",["ui.router","angular-bind-html-compile","ui.bootstrap","ngSanitize","ui.tinymce","rzModule","ui.select","validation.rule","ui.tree","ui-notification","duScroll","LocalStorageModule"]).constant("uibPaginationConfig",{firstText:"",previousText:"",nextText:"",lastText:"",boundaryLinks:!0,directionLinks:!0}).constant("uibPagerConfig",{align:!0,previousText:" ",nextText:" "}).constant("uibDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"",clearText:"",closeText:"",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).config(["NotificationProvider",function(e){e.setOptions({positionY:"bottom"})}])}(),function(){"use strict";angular.module("ui.bootstrap.tooltip").directive("uiTooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("uiTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uiTooltip",["$uibTooltip",function(e){return e("uiTooltip","uiTooltip","mouseenter")}]).directive("uiTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uiTooltipTemplate",["$uibTooltip",function(e){return e("uiTooltipTemplate","uiTooltip","mouseenter",{useContentExp:!0})}]).directive("uiTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uiTooltipHtml",["$uibTooltip",function(e){return e("uiTooltipHtml","uiTooltip","mouseenter",{useContentExp:!0})}])}(),function(){"use strict";angular.module("ui.bootstrap.popover").directive("uiPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(e,t){t.addClass("popover")}}}).directive("uiPopoverTemplate",["$uibTooltip",function(e){return e("uiPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uiPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(e,t){t.addClass("popover")}}}).directive("uiPopoverHtml",["$uibTooltip",function(e){return e("uiPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uiPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",
isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(e,t){t.addClass("popover")}}}).directive("uiPopover",["$uibTooltip",function(e){return e("uiPopover","popover","click")}])}(),function(){"use strict";angular.module("ui.bootstrap.progressbar").directive("uiProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uiProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("uiBar",function(){return{replace:!0,transclude:!0,require:"^uiProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uiProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}})}(),function(){"use strict";angular.module("ui.bootstrap.accordion").directive("uiAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("uiAccordionGroup",function(){return{require:"^uiAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"scripts/components/bootstrap/accordion/template/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("uiAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uiAccordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("uiAccordionTransclude",function(){return{require:["?^uiAccordionGroup"],link:function(e,t,n,i){i=i[0]?i[0]:i[1],e.$watch(function(){return i[n.uiAccordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}})}(),function(){"use strict";angular.module("ui.bootstrap.carousel").directive("uiCarousel",[function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("uiSlide",function(){return{require:"^uiCarousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(t){t&&i.select(e)})}}})}(),function(){"use strict";angular.module("ui.bootstrap.rating").directive("uiRating",function(){return{require:["uiRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"scripts/components/bootstrap/rating/template/rating.view.html",replace:!0,link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}})}(),function(){"use strict";angular.module("ui.bootstrap.dropdown").directive("uiDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uiDropdownMenu",function(){return{restrict:"AC",require:"?^uiDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("uiKeyboardNav",function(){return{restrict:"A",require:"?^uiDropdown",link:function(e,t,n,i){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=i.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(i.selectedOption)?i.selectedOption=i.selectedOption===t.length-1?i.selectedOption:i.selectedOption+1:i.selectedOption=0;break;case 38:angular.isNumber(i.selectedOption)?i.selectedOption=0===i.selectedOption?0:i.selectedOption-1:i.selectedOption=t.length-1}t[i.selectedOption].focus()}})}}}).directive("uiDropdownToggle",function(){return{require:"?^uiDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",r)})}}}})}(),function(){"use strict";angular.module("ui.bootstrap.pagination").directive("uiPagination",["$parse","uibPaginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uiPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,i,r,o){function a(e,t,n){return{number:e,text:t,active:n}}function l(e,t){var n=[],i=1,r=t,o=angular.isDefined(u)&&t>u;o&&(d?(i=Math.max(e-Math.floor(u/2),1),r=i+u-1,r>t&&(r=t,i=r-u+1)):(i=(Math.ceil(e/u)-1)*u+1,r=Math.min(i+u-1,t)));for(var l=i;r>=l;l++){var s=a(l,l,l===e);n.push(s)}if(o&&!d){if(i>1){var c=a(i-1,"...",!1);n.unshift(c)}if(t>r){var p=a(r+1,"...",!1);n.push(p)}}return n}var s=o[0],c=o[1];if(c){var u=angular.isDefined(r.maxSize)?n.$parent.$eval(r.maxSize):t.maxSize,d=angular.isDefined(r.rotate)?n.$parent.$eval(r.rotate):t.rotate;n.boundaryLinks=angular.isDefined(r.boundaryLinks)?n.$parent.$eval(r.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(r.directionLinks)?n.$parent.$eval(r.directionLinks):t.directionLinks,s.init(c,t),r.maxSize&&n.$parent.$watch(e(r.maxSize),function(e){u=parseInt(e,10),s.render()});var p=s.render;s.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=l(n.page,n.totalPages))}}}}}]).directive("uiPager",["uibPagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uiPager","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,i,r){var o=r[0],a=r[1];a&&(t.align=angular.isDefined(i.align)?t.$parent.$eval(i.align):e.align,o.init(a,e))}}}])}(),function(){"use strict";angular.module("ui.bootstrap.timepicker").directive("uiTimepicker",function(){return{restrict:"EA",require:["uiTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o,t.find("input"))}}})}(),function(){"use strict";angular.module("ui.bootstrap.datepicker").directive("uiDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"scripts/components/bootstrap/datepicker/template/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uiDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}).directive("uiDaypicker",function(){return{replace:!0,templateUrl:"scripts/components/bootstrap/datepicker/template/day.html",require:["^?uiDatepicker","uiDaypicker","^?datepicker"],controller:"UibDaypickerController",link:function(e,t,n,i){var r=i[0]||i[2],o=i[1];o.init(r)}}}).directive("uiMonthpicker",function(){return{replace:!0,templateUrl:"scripts/components/bootstrap/datepicker/template/month.html",require:["^?uiDatepicker","uiMonthpicker","^?datepicker"],controller:"UibMonthpickerController",link:function(e,t,n,i){var r=i[0]||i[2],o=i[1];o.init(r)}}}).directive("uiYearpicker",function(){return{replace:!0,templateUrl:"scripts/components/bootstrap/datepicker/template/year.html",require:["^?uiDatepicker","uiYearpicker","^?datepicker"],controller:"UibYearpickerController",link:function(e,t,n,i){var r=i[0]||i[2];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}).directive("uiDatepickerPopup",function(){return{require:["ngModel","uiDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(e,t,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uiDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}})}(),function(){"use strict";angular.module("ui.bootstrap.tabs").directive("uiTabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"scripts/components/bootstrap/tabs/template/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("uiTab",["$parse",function(e){return{require:"^uiTabset",restrict:"EA",replace:!0,templateUrl:"scripts/components/bootstrap/tabs/template/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(t,n,i,r,o){t.$watch("active",function(e){e&&r.select(t)}),t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uiTabHeadingTransclude",function(){return{restrict:"A",require:["?^uiTab","?^tab"],link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uiTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||e.hasAttribute("ui-tab-heading")||e.hasAttribute("data-ui-tab-heading")||e.hasAttribute("x-ui-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase()||"ui-tab-heading"===e.tagName.toLowerCase()||"data-ui-tab-heading"===e.tagName.toLowerCase()||"x-ui-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:["?^uiTabset","?^tabset"],link:function(t,n,i){var r=t.$eval(i.uiTabContentTransclude);r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}})}(),function(){"use strict";angular.module("ui.bootstrap.typeahead").controller("UiTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(e,t,n,i,r,o,a,l,s,c,u,d){function p(){D.moveInProgress||(D.moveInProgress=!0,D.$digest()),F&&a.cancel(F),F=a(function(){D.matches.length&&h(),D.moveInProgress=!1},v)}function h(){D.position=M?u.offset(t):u.position(t),D.position.top+=t.prop("offsetHeight")}var f,g,m=[9,13,27,38,40],v=200,$=e.$eval(n.typeaheadMinLength);$||0===$||($=1);var b,y,S=e.$eval(n.typeaheadWaitMs)||0,x=e.$eval(n.typeaheadEditable)!==!1,w=r(n.typeaheadLoading).assign||angular.noop,E=r(n.typeaheadOnSelect),C=angular.isDefined(n.typeaheadSelectOnBlur)?e.$eval(n.typeaheadSelectOnBlur):!1,k=r(n.typeaheadNoResults).assign||angular.noop,T=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,M=n.typeaheadAppendToBody?e.$eval(n.typeaheadAppendToBody):!1,A=n.typeaheadAppendToElementId||!1,L=e.$eval(n.typeaheadFocusFirst)!==!1,H=n.typeaheadSelectOnExact?e.$eval(n.typeaheadSelectOnExact):!1,I=r(n.ngModel),z=r(n.ngModel+"($$$p)"),O=function(t,n){return angular.isFunction(I(e))&&g&&g.$options&&g.$options.getterSetter?z(t,{$$$p:n}):I.assign(t,n)},N=d.parse(n.uiTypeahead),D=e.$new(),P=e.$on("$destroy",function(){D.$destroy()});D.$on("$destroy",P);var R="typeahead-"+D.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":R});var V=angular.element("<div ui-typeahead-popup></div>");V.attr({id:R,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(n.typeaheadTemplateUrl)&&V.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&V.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var q=function(){D.matches=[],D.activeIdx=-1,t.attr("aria-expanded",!1)},U=function(e){return R+"-option-"+e};D.$watch("activeIdx",function(e){0>e?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",U(e))});var X=function(e,t){return D.matches.length>t&&e?e.toUpperCase()===D.matches[t].label.toUpperCase():!1},B=function(n){var i={$viewValue:n};w(e,!0),k(e,!1),o.when(N.source(e,i)).then(function(r){var o=n===f.$viewValue;if(o&&b)if(r&&r.length>0){D.activeIdx=L?0:-1,k(e,!1),D.matches.length=0;for(var a=0;a<r.length;a++)i[N.itemName]=r[a],D.matches.push({id:U(a),label:N.viewMapper(D,i),model:r[a]});D.query=n,h(),t.attr("aria-expanded",!0),H&&1===D.matches.length&&X(n,0)&&D.select(0)}else q(),k(e,!0);o&&w(e,!1)},function(){q(),w(e,!1),k(e,!0)})};M&&(angular.element(s).bind("resize",p),l.find("body").bind("scroll",p));var F;D.moveInProgress=!1,D.query=void 0;var j,_=function(e){j=a(function(){B(e)},S)},Y=function(){j&&a.cancel(j)};q(),D.select=function(i){var r,o,l={};y=!0,l[N.itemName]=o=D.matches[i].model,r=N.modelMapper(e,l),O(e,r),f.$setValidity("editable",!0),f.$setValidity("parse",!0),E(e,{$item:o,$model:r,$label:N.viewMapper(e,l)}),q(),D.$eval(n.typeaheadFocusOnSelect)!==!1&&a(function(){t[0].focus()},0,!1)},t.bind("keydown",function(e){if(0!==D.matches.length&&-1!==m.indexOf(e.which)){if(-1===D.activeIdx&&(9===e.which||13===e.which))return q(),void D.$digest();e.preventDefault(),40===e.which?(D.activeIdx=(D.activeIdx+1)%D.matches.length,D.$digest()):38===e.which?(D.activeIdx=(D.activeIdx>0?D.activeIdx:D.matches.length)-1,D.$digest()):13===e.which||9===e.which?D.$apply(function(){D.select(D.activeIdx)}):27===e.which&&(e.stopPropagation(),q(),D.$digest())}}),t.bind("blur",function(){C&&D.matches.length&&-1!==D.activeIdx&&!y&&(y=!0,D.$apply(function(){D.select(D.activeIdx)})),b=!1,y=!1});var W=function(e){t[0]!==e.target&&3!==e.which&&0!==D.matches.length&&(q(),c.$$phase||D.$digest())};l.bind("click",W),e.$on("$destroy",function(){l.unbind("click",W),(M||A)&&G.remove(),V.remove()});var G=i(V)(D);M?l.find("body").append(G):A!==!1?angular.element(l[0].getElementById(A)).append(G):t.after(G),this.init=function(t,n){f=t,g=n,f.$parsers.unshift(function(t){return b=!0,0===$||t&&t.length>=$?S>0?(Y(),_(t)):B(t):(w(e,!1),Y(),q()),x?t:t?void f.$setValidity("editable",!1):(f.$setValidity("editable",!0),null)}),f.$formatters.push(function(t){var n,i,r={};return x||f.$setValidity("editable",!0),T?(r.$model=t,T(e,r)):(r[N.itemName]=t,n=N.viewMapper(e,r),r[N.itemName]=void 0,i=N.viewMapper(e,r),n!==i?n:t)})}}]).directive("uiTypeahead",function(){return{controller:"UiTypeaheadController",require:["ngModel","^?ngModelOptions","uiTypeahead"],link:function(e,t,n,i){i[2].init(i[0],i[1])}}}).directive("uiTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"scripts/components/bootstrap/typeahead/template/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("uiTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var a=n(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e(a).then(function(e){t(e.trim())(i,function(e){r.replaceWith(e)})})}}}])}(),function(){"use strict";angular.module("pasp.ui").directive("uiHeader",["$rootScope","$cookieStore",function(e,t){return{scope:{branding:"@"},controller:["$scope",function(e){this.setBranding=function(e){this.branding=e}}],replace:!0,transclude:!0,templateUrl:"scripts/components/pasp/header/header.view.html"}}]).directive("uiHeaderBranding",["$rootScope","$cookieStore",function(e,t){return{replace:!0,transclude:!0,require:"^uiHeader",link:function(e,t,n,i,r){i.setBranding(r(e,angular.noop))}}}]).directive("uiHeaderBrandingTransclude",function(){return{require:"?^uiHeader",link:function(e,t,n,i){e.$watch(function(){return i[n.uiHeaderBrandingTransclude]},function(e){e&&(t.html(""),t.append(e))})}}})}(),function(){"use strict";angular.module("pasp.ui").controller("uiHeaderCtrl",["$scope","$location",function(e,t){e.$watch(function(){return t.path()},function(){var n=t.path(),i=n.split("/");i.length>1&&(e.currentPath=i[1])})}])}(),function(){"use strict";angular.module("pasp.ui").directive("uiNavigation",["$timeout",function(e){function t(t,n){n.delegate(".nav > li","click",function(){if(angular.element(this).find(".no-link").length){var e=angular.element(this).find("ul > li"),t=20;angular.forEach(e,function(e,n){t+=e.clientHeight})}else angular.element(this).addClass("open");angular.element(this).siblings("li").removeClass("open").find("ul").height(0).end().end().addClass("open").find("ul").height(t)}),t.$watch("links",function(){e(function(){var e=n.find("li.actived");e.closest("ul").trigger("click")},200)})}return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"scripts/components/pasp/navigation/navigation.view.html"},link:t,controller:"uiNavigationCtrl",scope:{links:"=links"}}}])}(),function(){"use strict";angular.module("pasp.ui").controller("uiNavigationCtrl",["$scope","$location",function(e,t){e.$watch(function(){return t.path()},function(){e.currentUrl="#"+t.path()})}])}(),function(){"use strict";angular.module("pasp.ui").directive("uiSyntaxHighlighter",["$timeout",function(e){function t(t,n){e(function(){SyntaxHighlighter.highlight()},100)}return{link:t}}])}(),function(){"use strict";angular.module("pasp.ui").directive("uiPanel",function(){return{scope:{heading:"@"},controller:["$scope",function(e){this.setHeading=function(t){this.heading=t,e.heading=!0}}],replace:!0,transclude:!0,templateUrl:"scripts/components/pasp/panel/panel.view.html"}}).directive("uiPanelHeading",function(){return{transclude:!0,replace:!0,require:"^uiPanel",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("uiPanelTransclude",function(){return{require:"?^uiPanel",link:function(e,t,n,i){e.$watch(function(){return i[n.uiPanelTransclude]},function(e){e&&(t.html(""),t.append(e))})}}})}(),function(){"use strict";angular.module("pasp.ui").directive("ctgMatchValue",function(){function e(e,t,n,i){var r=$("#"+n.ctgMatchValue);t.on("blur",function(){r.val()===t.val()?i.$setValidity("match",!0):i.$setValidity("match",!1)})}return{require:"ngModel",link:e}})}(),function(){"use strict";angular.module("pasp.ui").directive("ctgButtonSwitch",function(){function e(e,t,n,i){t.on("click",function(){e.$apply(function(){e.model=0===e.model?1:0})})}return{link:e,scope:{model:"=model"},replace:!0,templateUrl:"scripts/components/pasp/button-switch/button-switch.view.html"}})}(),function(){"use strict";angular.module("pasp.ui").directive("uiSlider",["RzSlider",function(e){return{restrict:"E",scope:{uiSliderFloor:"=?",uiSliderCeil:"=?",uiSliderStep:"@",uiSliderPrecision:"@",uiSliderModel:"=?",uiSliderHigh:"=?",uiSliderDraggable:"@",uiSliderTranslate:"&",uiSliderHideLimitLabels:"=?",uiSliderAlwaysShowBar:"=?",uiSliderPresentOnly:"@",uiSliderOnStart:"&",uiSliderOnChange:"&",uiSliderOnEnd:"&",uiSliderShowTicks:"=?",uiSliderShowTicksValue:"=?",uiSliderDisabled:"=?",uiSliderInterval:"=?"},templateUrl:function(e,t){return t.rzSliderTplUrl||"rzSliderTpl.html"},link:function(t,n,i){return t.rzSliderFloor=t.uiSliderFloor,t.rzSliderCeil=t.uiSliderCeil,t.rzSliderStep=t.uiSliderStep,t.rzSliderPrecision=t.uiSliderPrecision,t.rzSliderModel=t.uiSliderModel,t.rzSliderHigh=t.uiSliderHigh,t.rzSliderDraggable=t.uiSliderDraggable,t.rzSliderTranslate=t.uiSliderTranslate,t.rzSliderHideLimitLabels=t.uiSliderHideLimitLabels,t.rzSliderAlwaysShowBar=t.uiSliderAlwaysShowBar,t.rzSliderPresentOnly=t.uiSliderPresentOnly,t.rzSliderOnStart=t.uiSliderOnStart,t.rzSliderOnChange=t.uiSliderOnChange,t.rzSliderOnEnd=t.uiSliderOnEnd,t.rzSliderShowTicks=t.uiSliderShowTicks,t.rzSliderShowTicksValue=t.uiSliderShowTicksValue,t.rzSliderDisabled=t.uiSliderDisabled,t.rzSliderInterval=t.uiSliderInterval,i.rzSliderShowTicks=t.uiSliderShowTicks,i.rzSliderShowTicksValue=t.uiSliderShowTicksValue,i.rzSliderAlwaysShowBar=t.uiSliderAlwaysShowBar,i.rzSliderHigh=t.uiSliderHigh,i.rzSliderModel=t.uiSliderModel,i.rzSliderDraggableRange=i.uiSliderDraggableRange,i.rzSliderHideLimitLabels=i.uiSliderHideLimitLabels,i.rzSliderPresentOnly=i.uiSliderPresentOnly,t.$watch("rzSliderModel",function(e){t.uiSliderModel=t.rzSliderModel}),new e(t,n,i)}}}])}(),function(){"use strict";angular.module("pasp.ui").directive("uiContextMenu",["$compile","$document",function(e,t){var n;return n=function(e,t,n){return e[t]||"boolean"==typeof e[t]?void 0:e[t]=n},{restrict:"A",scope:{uiContextMenuList:"=",uiContextMenuClick:"&",uiContextMenuRightClick:"&",uiContextMenuOnClose:"&",uiContextMenuOptions:"=?",uiContextMenuAlign:"@"},link:function(i,r,o){var a,l,s,c;return c='<div class="ng-context-menu"> <ul class="dropdown-menu" role="menu"> <li ng-click="clickItem(item, $event)" ng-repeat="item in menu"> <hr ng-if="item.type==\'hr\'"  /> <a href="javascript:void(0)" ng-if="item.type!=\'hr\'">{{item[options.itemLabel]}}</a> </li> </ul> </div>',i.options=i.uiContextMenuOptions||{},n(i.options,"itemLabel","name"),n(i.options,"isMultiple",!0),i.menu=i.uiContextMenuList,i.dropmenu=a=e(c)(i),r.append(a),r.bind("contextmenu",function(e){return e.preventDefault(),setTimeout(function(){var t,n,r,o;switch(i.rightClick&&i.rightClick({$event:e}),a.addClass("open"),t=a[0].offsetHeight,n=a[0].offsetWidth,i.align=i.uiContxtMenuAlign||"lt",i.align){case"lt":o=e.clientY,r=e.clientX;break;case"lb":o=e.clientY-t,r=e.clientX;break;case"rt":o=e.clientY,r=e.clientX-n;break;case"rb":o=e.clientY-t,r=e.clientX-n}return s(a,{top:o,left:r})},0)}),t.bind("contextmenu",function(e){return!i.options.isMultiple&&a.hasClass("open")?l():void 0}),t.bind("click",function(e){return 0===e.button&&a.hasClass("open")&&(l(),i.uiContextMenuOnClose)?i.uiContextMenuOnClose():void 0}),i.clickItem=function(e,t){return i.uiContextMenuClick?i.uiContextMenuClick({item:e,$event:t}):void 0},l=function(){return a.css({top:0,left:0}),a.removeClass("open")},s=function(e,t){var n,i,r,o,a,l,c,u,d,p,h;return r=e[0],t?(i=r.style.top||getComputedStyle(r).top,n=r.style.left||getComputedStyle(r).left,a=s(e),d=window.pageXOffset||r.scrollLeft,p=window.pageYOffset||r.scrollTop,(i+n).indexOf("auto")>-1?(l=r.offsetTop,o=r.offsetLeft):(l=parseFloat(i)||0,o=parseFloat(n)||0),c=d+t.left-a.left+o,h=p+t.top-a.top+l,void e.css({top:h+"px",left:c+"px"})):(u=r.getBoundingClientRect(),{top:u.top+document.body.scrollTop,left:u.left+document.body.scrollLeft})}}}}])}(),function(){"use strict";function e(e){var t=e.get("$validation"),n=e.get("$q"),i=e.get("$timeout"),r=function(e,n,i,r,o){var a,l=n||t.getDefaultMsg(i).success;return a=r.messageId?angular.element(document.querySelector("#"+r.messageId)):e.next(),t.showSuccessMessage&&l?a.html(t.getSuccessHTML(l)):a.html(""),o.$setValidity(o.$name,!0),r.validCallback&&r.validCallback({message:l}),t.validCallback&&t.validCallback(e),!0},o=function(e,n,i,r,o){var a,l=n||t.getDefaultMsg(i).error;return a=r.messageId?angular.element(document.querySelector("#"+r.messageId)):e.next(),t.showErrorMessage&&l&&a.html(t.getErrorHTML(l)),o.$setValidity(o.$name,!1),r.invalidCallback&&r.invalidCallback({message:l}),t.invalidCallback&&t.invalidCallback(e),!1},a={},l=function(e,i,a,s,c,u){var d=c.slice(0),p=d[0].trim(),h=p.indexOf("="),f=-1===h?p:p.substr(0,h),g=-1===h?null:p.substr(h+1),m=d.slice(1),v=f+"SuccessMessage",$=f+"ErrorMessage",b=t.getExpression(f),y={success:function(){return r(i,a[v],f,e,s),m.length?l(e,i,a,s,m,u):!0},error:function(){return o(i,a[$],f,e,s)}};return void 0===b?(console.error('You are using undefined validator "%s"',f),m.length?l(e,i,a,s,m,u):void 0):b.constructor===Function?n.all([t.getExpression(f)(u,e,i,a,g)]).then(function(e){return e&&e.length>0&&e[0]?y.success():y.error()},function(){return y.error()}):b.constructor===RegExp&&void 0!==u&&null!==u&&t.getExpression(f).test(u)?y.success():y.error()},s=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},c=function(){return s()+s()+s()+s()};return{restrict:"A",require:"ngModel",scope:{model:"=ngModel",initialValidity:"=initialValidity",validCallback:"&",invalidCallback:"&",messageId:"@"},link:function(e,t,n,r){var o,s=function(){},u=n.uiValidator.split(","),d=r.validationId=c();return"boolean"==typeof e.initialValidity&&(o=e.initialValidity),e.messageId||t.after("<span></span>"),r.$setValidity(r.$name,o),e.$on(r.$name+"reset-"+d,function(){s(),i(function(){r.$setViewValue(""),r.$setPristine(),r.$setValidity(r.$name,void 0),r.$render(),e.messageId?angular.element(document.querySelector("#"+e.messageId)).html(""):t.next().html("")})}),e.$on(r.$name+"submit-"+d,function(o,c){var d=r.$viewValue,p=!1;p=l(e,t,n,r,u,d),"submit"===n.validMethod&&(s(),s=e.$watch("model",function(i,o){i=r.$viewValue,i!==o&&((void 0===i||null===i)&&(i=""),p=l(e,t,n,r,u,i))}));var h=function(e){e?delete a[c]:(a[c]=t[0],i(function(){a[Math.min.apply(null,Object.keys(a))].focus()},0))};p.constructor===Object?p.then(h):h(p)}),"blur"===n.validMethod?void t.bind("blur",function(){var i=r.$viewValue;e.$apply(function(){l(e,t,n,r,u,i)})}):void("submit"!==n.validMethod&&"submit-only"!==n.validMethod&&(e.$watch("model",function(i){if(i=r.$viewValue,r.$pristine&&r.$viewValue)r.$setViewValue(r.$viewValue);else if(r.$pristine)return void(e.messageId?angular.element(document.querySelector("#"+e.messageId)).html(""):t.next().html(""));l(e,t,n,r,u,i)}),i(function(){n.$observe("noValidationMessage",function(n){var i;i=e.messageId?angular.element(document.querySelector("#"+e.messageId)):t.next(),"true"===n||n===!0?i.css("display","none"):("false"===n||n===!1)&&i.css("display","block")})})))}}}function t(e){var t=e.get("$validation"),n=e.get("$timeout"),i=e.get("$parse");return{priority:1,require:"?ngClick",link:function(e,r,o){var a=i(o.uiValidationSubmit)(e);n(function(){r.off("click"),r.on("click",function(n){n.preventDefault(),t.validate(a).success(function(){i(o.ngClick)(e)})})})}}}angular.module("pasp.ui").config(["$validationProvider",function(e){var t={required:function(e){return!!e},url:/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,email:/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,number:/^\d+$/,ip:/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,mobile:/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/,tel:/^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$/,idcard:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,minlength:function(e,t,n,i,r){return e.length>=r},maxlength:function(e,t,n,i,r){return e.length<=r},match:function(e,t,n,i,r){return i.validMatch===e},reg:function(e,t,n,i,r){var o=new RegExp(r);return o.test(e)}},n={required:{error:"",success:""},url:{error:"Url",success:"Url"},email:{error:"email",success:"email"},number:{error:"",success:""},ip:{error:"ip",success:""},mobile:{error:"",success:""},tel:{error:"",success:""},idcard:{error:"",success:""},minlength:{error:"",success:""},maxlength:{error:"",success:""},match:{error:"",success:""},reg:{error:"",success:""}};e.setExpression(t).setDefaultMsg(n),e.showSuccessMessage=!1}]).directive("uiValidator",e).directive("uiValidationSubmit",t),e.$inject=["$injector"],t.$inject=["$injector"]}();